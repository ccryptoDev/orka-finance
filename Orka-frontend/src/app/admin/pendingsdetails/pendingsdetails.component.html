<section class="content-header">
  <ol class="breadcrumb">
    <li>
      <a [routerLink]="['/admin/dashboard']">
        <i class="fa fa-dashboard"></i>
        Dashboard
      </a>
    </li>
    <li>
      <a [routerLink]="['/admin/pendings']">
        <i class="fa fa-dashboard"></i>
        Pending Application Details
      </a>
    </li>
    <li class="active">View Application Details</li>
  </ol>
</section>

<div class="frameshadow">
  <div class="mainTitle">
    <div>View Application Details</div>
    <div>
      <button type="button" class="btn-success btn-user-control buttonSize" (click)="Approve()">
        <i class="fa fa-thumbs-up" aria-hidden="true"></i> Approve
      </button>
      &nbsp;
      <button type="button" class="btn-danger btn-user-control buttonSize" (click)="Deny()">
        <i class="fa fa-thumbs-down" aria-hidden="true"></i> Deny
      </button>
    </div>
  </div>

  <div class="p10">
    <div class="pendingTab">
      <tabset #staticTabs> 
        <tab heading="Loan Ops Review">
          <div class="p10px" *ngIf="financingTab.length > 0">
            <table class="table table-bordered">
              <tbody>
                <tr>
                  <td style="width: 200px">Financing Amount Requested</td>
                  <td *ngIf="financingTab;else media_false_content">${{financingTabamnt}}</td>
                  <ng-template #media_false_content>
                    <td>---</td>
                  </ng-template>
                </tr>
                <tr>
                  <td style="width:70%">Financing Term Requested</td>
                  <td *ngIf="financingTab;else aml_false_content">{{financingTab[0].interestRate}}%</td>
                  <ng-template #aml_false_content>
                    <td>---</td>
                  </ng-template>
                </tr>
                <tr>
                  <td style="width:70%">Origination Fee</td>
                  <td *ngIf="financingTab;else ofac_false_content">${{changeamnt}}</td>
                  <ng-template #ofac_false_content>
                    <td>---</td>
                  </ng-template>
                </tr>
                <tr>
                  <td style="width:70%">Product Requested</td>
                  <td *ngIf="financingTab;else ofac_false_content">{{financingTab[0].productName}}</td>
                  <ng-template #ofac_false_content>
                    <td>---</td>
                  </ng-template>
                </tr>
              </tbody>
            </table>
          </div>

          <accordion class="p10">
            <accordion-group heading="Products & Lending Limit">
              <div class="p10px">
                <table class="table table-bordered">
                  <tr class="bold">
                    <th>Product</th>
                    <th>$ Lending Limit Approved</th>
                    <th>Product Available?</th>
                  </tr>
                  <tbody *ngIf="loanProducts.length != 0">
                    <tr *ngFor="let d of loanProducts" >
                      <td [ngClass]="{ 'isbackground': financingTab[0].productName==d.productName }">{{d.productName}} {{financingTab[0].productName}}</td>
                      <td [ngClass]="{ 'isbackground': financingTab[0].productName==d.productName }">${{changeAmtVal(d.financingApproved)}}</td>
                      <td [ngClass]="{ 'isbackground': financingTab[0].productName==d.productName }">
                        <span *ngIf="d.financingApproved > 25000;else err_msg" style="color:green;" >
                            Yes
                        </span>
                        <ng-template #err_msg  >
                          <span style="color:red;">No</span>
                        </ng-template>
                      </td>
                    </tr>
            
                  </tbody>
                </table>
              </div>
            </accordion-group>

            <accordion-group>
              <button class="btn btn-link btn-block shadow-none" accordion-heading type="button">
                <div
                  accordion-heading
                  class="pull-left float-left"
                  [ngClass]="incomeVerificationPassed ? 'uv_passed_header' : 'uv_fail_header'"
                >
                  Income Verification
                </div>
              </button>

              <div class="p10px" *ngIf="statedIncome.length > 0">
                <table class="table table-bordered" >
                  <tr class="bold">
                    <th>Rule</th>
                    <th>Response</th>
                    <th>Income ($) Verified</th>
                    <th>Rule Status (Pass / Fail)</th>
                  </tr>
                  <tbody>
                    <tr>
                      <td>Stated income must be verified</td>
                      <td>{{ statedIncome[0].requiredToVerifyStatedIncome === '0' ? 'No' : 'Yes' }}</td>
                      <td>
                        {{ f1.updateincomeVerifiedvs ? '$' + changeAmtVal(f1.updateincomeVerifiedvs) : ''  }}
                      </td>
                      <td [ngStyle]="
                        (incomeVerificationPassed || statedIncome[0].requiredToVerifyStatedIncome == 0) ?
                        { 'color': 'green' } :
                        { 'color': 'red' }
                      ">
                        {{ (incomeVerificationPassed || statedIncome[0].requiredToVerifyStatedIncome == 0) ? 'Pass' : 'Fail' }}
                      </td>
                    </tr>
                    <tr>
                      <td>Was stated income verified?</td>
                      <td>
                        <label class="switch">
                          <input
                            name="onoffswitch"
                            type="checkbox"
                            [checked]="loanstatuschanged[0].incomeVerified == 'Yes'"
                            (change)="
                              updateloanIdstatus(
                                loanId,
                                $event,
                                'incomeverify'
                              )
                            "
                          />
                          <span class="slider round"></span>
                        </label>
                      </td>
                      <td>
                        <form name="form" #f="ngForm" novalidate>
                          <input
                            required
                            type="text"
                            name="updateincomeVerifiedvs"
                            class="form-control mtop"
                            placeholder="Enter Stated Income"
                            [ngClass]="{ 'is-invalid': f.submitted && updateincomeVerifiedvs.invalid }"
                            (keypress)="keyPressNumbers($event)"
                            (input)="f1.updateincomeVerifiedvs = namedata($event)"
                            [(ngModel)]="f1.updateincomeVerifiedvs"
                            #updateincomeVerifiedvs="ngModel"
                          />
                          <small
                            *ngIf="updateincomeVerifiedvs.invalid && (updateincomeVerifiedvs.touched || f.submitted)"
                            class="text-danger"
                          >
                            A response is required
                          </small>
                        </form>
                      </td>
                      <td [ngStyle]="incomeVerificationPassed ? { 'color': 'green' } : { 'color': 'red' }">
                      {{ incomeVerificationPassed ? 'Pass' : 'Fail' }}
                    </td>
                    </tr>
                  </tbody>
                </table>
              </div> 
            </accordion-group>

            <accordion-group >
              <button
                accordion-heading
                class="btn btn-link btn-block shadow-none"
                type="button"
              >
                <div
                  accordion-heading
                  class="pull-left float-left"
                  [ngClass]="kycEquifaxPassed ? 'uv_passed_header' : 'uv_fail_header'"
                >
                  KYC- Equifax
                </div>
              </button>

              <div *ngIf="equifaxConsumerReport?.Rules; else cmrules_err">
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <th style='width:30%;font-weight: 700;'>Rule</th>
                      <th style='width:30%;font-weight: 700;'>Response</th>
                      <th style='width:30%;font-weight: 700;'>Rule Status (Pass / Fail)</th>
                    </tr>
                    <tbody>
                      <tr *ngFor="let c of equifaxConsumerReport.Rules">
                        <td>{{c.Rule}}</td>
                        <td>{{c.RuleMessage}}</td>
                        <td>
                          <span
                            [ngStyle]="c.RuleStatus === 'FAIL'? { 'color': 'red' } : c.RuleStatus === 'BYPASS' ? {'color':'orange'} : {'color': 'green'}"
                          >
                            {{c.RuleStatus}}
                          </span>
                        </td>
                      </tr>
                    </tbody>
                </table>
              </div>
              <ng-template #cmrules_err>No Rules Data Received!</ng-template>
            </accordion-group>

            <accordion-group >
              <button
                accordion-heading
                class="btn btn-link btn-block shadow-none"
                type="button"
              >
                <div
                  accordion-heading
                  class="pull-left float-left "
                  [ngClass]="kycComplyAdvandagePassed ? 'uv_passed_header' : 'uv_fail_header' "
                >
                  KYC- Comply Advantage
                </div>
              </button>

              <div *ngIf="complyAdvantageReport?.Rules; else carules_err" class="p10px">
                <table class="table table-bordered">
                  <tr class="bold">
                    <th>Rule</th>
                    <th>Response</th>
                    <th>Rule Status(Pass/Fail)</th>
                  </tr>
                  <tbody>
                    <tr *ngFor="let rule of complyAdvantageReport.Rules">
                      <td>{{ rule.Rule }}</td>
                      <td>{{ rule.RuleStatus === 'PASS' ? 'No' : 'Yes' }}</td>
                      <td [ngStyle]="{ color: rule.RuleStatus === 'PASS' ? 'green' : 'red' }">
                        {{ rule.RuleStatus }}
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <ng-template #carules_err>No Rules Data Received!</ng-template>
            </accordion-group>

            <accordion-group >
              <button
                accordion-heading
                class="btn btn-link btn-block shadow-none"
                type="button"
              >
                <div
                  accordion-heading
                  class="pull-left float-left"
                  [ngClass]="kybEquifaxPassed ? 'uv_passed_header' : 'uv_fail_header'"
                >
                  KYB- Equifax
                </div>
              </button>

              <div *ngIf="equifaxCommercialReport?.Rules; else cmrules_err">
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <th style='width:30%;font-weight: 700;'>Rule</th>
                      <th style='width:30%;font-weight: 700;'>Response</th>
                      <th style='width:30%;font-weight: 700;'>Rule Status (Pass / Fail)</th>
                    </tr>
                    <tbody>
                      <tr *ngFor="let c of equifaxCommercialReport.Rules">
                        <td>{{c.Rule}}</td>
                        <td>{{c.RuleMessage}}</td>
                        <td>
                          <span
                            [ngStyle]="c.RuleStatus === 'FAIL'? { 'color': 'red' } : c.RuleStatus === 'BYPASS' ? {'color':'orange'} : {'color': 'green'}"
                          >
                            {{c.RuleStatus}}
                          </span>
                        </td>
                      </tr>
                    </tbody>
                </table>
              </div>
              <ng-template #cmrules_err>No Rules Data Received!</ng-template>
            </accordion-group>

            <accordion-group>

              <button class="btn btn-link btn-block  shadow-none" accordion-heading type="button">
                <div class="pull-left float-left " [ngClass]="middeskReportPassed ? 'uv_passed_header' : 'uv_fail_header' " accordion-heading >KYB- Middesk</div>
              </button>
              
              <div class="p10px">
                <table class="table table-bordered">
                  <tr class="bold">
                    <th>Rule</th>
                    <th>Message</th>
                    <th>Status</th>
                    <th>Sub Label</th>
                  </tr>
                  <tbody *ngIf="middeskData.length != 0">
                    <tr *ngFor="let log of middeskData; index as i">
                      <td>{{ log.label }}</td>
                      <td>{{ log.message }}</td>
                      <td [ngStyle]="log.status === 'success'? {'color':'green'} : {'color': 'red'}">
                        {{ log.status }}
                      </td>
                      <td>{{ log.sub_label }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </accordion-group>

            <accordion-group >

              <button class="btn btn-link btn-block  shadow-none" accordion-heading type="button">
                <div class="pull-left float-left " [ngClass]="rulestatus == 'Pass' ? 'uv_passed_header' : 'uv_fail_header' " accordion-heading >Property Ownership</div>
              </button>
              <div class="p10px">
                <table class="table table-bordered">
                  <tr class="bold">
                    <th>Rule</th>
                    <th>Message</th>
                    <th>Upload</th>
                    <th>Rule Status (Pass / Fail)</th>
                  </tr>
                  <tbody *ngIf="financialquestion.length > 0">
                   <tr>
                    <td style="width:30%">Property ownership stated in credit app</td>
                    <td>{{financialquestion[0].ownershipType}}</td>
                    <td></td>
                    <td>N/A</td>
                   </tr>
                   <tr>
                    <td style="width:30%">Property ownership as stated in Data Tree</td>
                    <td>
                      <form name="forms" #f="ngForm" novalidate>
                      <select name="ownershipType" id="ownershipType" (change)="changeownerType(f1.ownershipType)" class="form-control"
                      [(ngModel)]="f1.ownershipType" (input)="f1.ownershipType = namedata($event)"
                      #ownershipType="ngModel" required>
                      <option value="null"  [disabled]="true">
                        Select Ownership Type
                      </option>
                      <option value="Mortgaged">Mortgaged</option>
                      <option selected value="Owned Free-and-Clear">
                        Owned Free-and-Clear
                      </option>
                      <option value="Leased">Leased</option>
                    </select>
                    <i class="fas fa-caret-down downicon"></i>
                    <small *ngIf="
                        ownershipType.invalid &&
                        (ownershipType.touched || f.submitted)
                      " class="text-danger">A response is required</small>
                    </form></td>
                    <td>

                      <button class="newbutton mt20" *ngIf="sales_items.length==0 && data_replace_res.length==0">
                        <div class="">
                          <ngx-file-drop dropZoneLabel="Drop files here" (onFileDrop)="salesitems($event)"
                            (onFileOver)="fileOver($event)" (onFileLeave)="fileLeave($event)">
                            <ng-template ngx-file-drop-content-tmp let-openFileSelector="openFileSelector">
                              <span (click)="openFileSelector()">Upload</span>
                            </ng-template>
                          </ngx-file-drop>
                        </div>
                        
                      </button>
                    <div *ngIf="data_replace_res.length > 0">
                      <div *ngFor="let d of data_replace_res; let i = index">
                        <div class="cursor-pointer" (click)="view(showFile,d.filename)">
                        {{ d.originalname }}<span class="tomatoColor fs-12"> </span>
                        <!--<i class="fas fa-times cur-poi" (click)="deleteFilelist(d.originalname)"></i>-->
                        </div>
                      </div>
                    </div>
                     

                      <div class="row1 AlignItemCenter spaceBetween" *ngFor="let file of sales_items; let i = index">
                        <div class=" AlignItemCenter">
                          <img *ngIf="filetype_salesitems_val_res == 'pdf'" src="../../../assets/pdf_icon1.png" class="pdficon"
                            alt="" />
                          <img *ngIf="filetype_salesitems_val_res == 'doc'" src="../../../assets/doc_icon.png" class="pdficon"
                            alt="" />
                          <img *ngIf="filetype_salesitems_val_res == 'png'" src="../../../assets/png_icon.png" class="pdficon"
                            alt="" />
                          <img *ngIf="
                              filetype_salesitems_val_res == 'jpeg' ||
                              filetype_salesitems_val == 'jpg'
                            " src="../../../assets/jpeg_icon.png" class="pdficon" alt="" />
                          <div class="leftheading3 pdfText">
                            {{ file.name.split(".")[0] }}
                            <span class="tomatoColor">
                              <i class="fas fa-times cur-poi" (click)="deleteFileSelected_sales(e)"></i></span>
                          </div>
                        </div>
                        <button [disabled]="clicked" (click)="upoadDocumentsOwnertype()" class="replaceButton1">
                          Submit
                        </button>
                      </div>

                    </td>
                    <td>
                      <span [ngStyle]="rulestatus=='Fail'?{'color':'red'}:{'color': 'green'}">
                      {{rulestatus}}
                    </span>
                    </td>
                   </tr>
                  </tbody>
                </table>
              </div>
            </accordion-group>

            <accordion-group >

              <button class="btn btn-link btn-block  shadow-none" accordion-heading type="button">
                <div class="pull-left float-left " [ngClass]="taxrulestatus == 'Pass' ? 'uv_passed_header' : 'uv_fail_header' " accordion-heading >Tax Returns</div>
              </button>
              <div class="p10px" *ngIf="loanstatuschanged.length > 0">
                <table class="table table-bordered">
                  <tr class="bold">
                    <th>Rule</th>
                    <th>Response</th>
                    <th>Rule Status (Pass / Fail)</th>
                  </tr>
                  <tbody >
                    <!-- <tr *ngFor="let d of data.files; let i = index"> -->
                      <tr>
                      <td>Tax Documents uploaded in credit app</td>
                      <td *ngIf="taxarray.length > 0;else err_tax"> Yes</td>
                      <ng-template #err_tax><td>No</td></ng-template>
                      <td>N/A</td>
                      <!-- <td (click)="view(showFile,d.filename)" class="cursorpointer">
                        <a>View Document</a>
                      </td> -->
                    </tr>
                    <tr>
                      <td>Tax Documents verified</td>
                      <td><label class="switch">
                        <input
                          type="checkbox"
                          [checked]="loanstatuschanged[0].taxDocumentsVerified == 'Yes'"
                          (change)="
                          changetaxDocumentsVerified(
                              loanId,
                              $event,
                              'taxDocumentsVerified'
                            )
                          "
                          name="onoffswitch"
                        />
                        <span class="slider round"></span>
                      </label></td>
                      <td [ngStyle]="taxrulestatus=='Fail'?{'color':'red'}:{'color': 'green'}">
                        
                        {{taxrulestatus}}
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <!-- <div class="p10px">
                <table class="table table-bordered">
                  <tr>
                    <th style="width: 50px">#</th>
                    <th>Rule</th>
                    <th>Document Type</th>
                    <th>PDF,JPG,JPEG,PNG</th>
                  </tr>
                  
                </table>
              </div> -->
            </accordion-group>

            <accordion-group heading="Financial Questions Asked and Answered">
              <div class="p10px" *ngIf="financialquestion.length > 0">
                <table class="table table-bordered">
                  <tr class="bold">
                    <th>Question</th>
                    <th>Response from Borrower</th>
                  </tr>
                  <tbody>
                   <tr>
                    <td>What life cycle stage would best describe your business now?</td>
                    <td>{{financialquestion[0].lifeCycleStage}}</td>
                   </tr>
                   <tr>
                    <td>What revenue growth do you expect in the year ahead?</td>
                    <td>{{financialquestion[0].expectedRevGrowth}}</td>
                   </tr>
                   <tr>
                    <td>What's driving this growth?</td>
                    <td>{{financialquestion[0].growthDrivers}}</td>
                   </tr>
                   <tr>
                    <td>How do you expect your business' profitability (net margin) to grow over the next 1-3 years, compared to revenue expectations?</td>
                    <td>{{financialquestion[0].profitabilityGrowth}}</td>
                   </tr>
                   <tr>
                    <td>Please describe any significant liabilities / indebtedness, including purpose and repayment terms.</td>
                    <td>{{financialquestion[0].liabilities}}</td>
                   </tr>
                   <tr>
                    <td>Describe any challenges, if any, you expect for your business coming out of the COVID-19 pandemic.</td>
                    <td>{{financialquestion[0].challenges}}</td>
                   </tr>
                  </tbody>
                </table>
              </div>
            </accordion-group>

            <accordion-group heading="Request for Information">
              <div class="p10px">
                <table class="table table-bordered">
                  <tr class="bold">
                    <th>Documentation requested</th>
                    <th>Email will include the following language in the bullets (Loan ops can edit)</th>
                    <th>More information needed? Select all that apply and then click SUBMIT</th>
                  </tr>
                  <tbody>
                   <tr>
                    <td>Tax documents needed</td>
                    <td>Please provide the last two years of tax returns for your business</td>
                    <td>
                      <label class="switch">
                        <input
                          type="checkbox"
                          (change)="updateRequestInformationFlag('Tax documents needed',$event)"
                          name="onoffswitch"
                          [checked]="requestForInformationData['Tax documents needed'].status"
                        />
                        <span class="slider round"></span>
                      </label>
                    </td>
                   </tr>
                   <tr>
                    <td>Confirm property ownership</td>
                    <td>Please provide proof that you own your property (e.g., most recent mortgage statement or other proof of ownership)</td>
                    <td>
                      <label class="switch">
                        <input
                          type="checkbox"
                          (change)="updateRequestInformationFlag('Confirm property ownership',$event)"
                          name="onoffswitch"
                          [checked]="requestForInformationData['Confirm property ownership'].status"
                        />
                        <span class="slider round"></span>
                      </label>
                    </td>
                   </tr>
                   <tr>
                    <td>Business financials needed</td>
                    <td>Please provide the last two years, including YTD if available, of financials for your business</td>
                    <td>
                      <label class="switch">
                        <input
                          type="checkbox"
                          (change)="updateRequestInformationFlag('Business financials needed',$event)"
                          name="onoffswitch"
                          [checked]="requestForInformationData['Business financials needed'].status"
                        />
                        <span class="slider round"></span>
                      </label>
                    </td>
                   </tr>
                   <tr>
                    <td>Income verification</td>
                    <td>Please provide your W2 or paystub for the last 2 months</td>
                    <td>
                      <label class="switch">
                        <input
                          type="checkbox"
                          (change)="updateRequestInformationFlag('Income verification',$event)"
                          name="onoffswitch"
                          [checked]="requestForInformationData['Income verification'].status"
                        />
                        <span class="slider round"></span>
                      </label>
                    </td>
                   </tr>
                   <tr>
                    <td>Other 1</td>
                    <td>
                      <input type="text" class="form-control" 
                        [disabled]="!requestForInformationData['Other 1'].status" 
                        placeholder="You can add language (min of 10 characters)"
                        (keypress)="updateRequestInformationText('Other 1',$event.target.value)"
                        [value] = "requestForInformationData['Other 1'].text"
                        [ngClass]="(requestForInformationData['Other 1'].status && requestForInformationData['Other 1'].text.length > 1 && requestForInformationData['Other 1'].text.length < 10 ) ? 'is-invalid' : 'valid' " >
                    </td>
                    <td>
                      <label class="switch">
                        <input
                          type="checkbox"
                          (change)="updateRequestInformationFlag('Other 1',$event)"
                          name="onoffswitch"
                          [checked]="requestForInformationData['Other 1'].status"
                        />
                        <span class="slider round"></span>
                      </label>
                    </td>
                   </tr>
                   
                   <tr>
                    <td>Other 2</td>
                    <td>
                      <input type="text" class="form-control" 
                        [disabled]="!requestForInformationData['Other 2'].status" 
                        placeholder="You can add language (min of 10 characters)"
                        (keypress)="updateRequestInformationText('Other 2',$event.target.value)"
                        [value] = "requestForInformationData['Other 2'].text"
                        [ngClass]="(requestForInformationData['Other 2'].status && requestForInformationData['Other 2'].text.length > 1 && requestForInformationData['Other 2'].text.length < 10 ) ? 'is-invalid' : 'valid' " >
                    </td>
                    <td>
                      <label class="switch">
                        <input
                          type="checkbox"
                          (change)="updateRequestInformationFlag('Other 2',$event)"
                          name="onoffswitch"
                          [checked]="requestForInformationData['Other 2'].status"
                        />
                        <span class="slider round"></span>
                      </label>
                    </td>
                   </tr>

                   <tr>
                    <td>Other 3</td>
                    <td>
                      <input type="text" class="form-control" 
                        [disabled]="!requestForInformationData['Other 3'].status" 
                        placeholder="You can add language (min of 10 characters)"
                        (keypress)="updateRequestInformationText('Other 3',$event.target.value)"
                        [value] = "requestForInformationData['Other 3'].text"
                        [ngClass]="(requestForInformationData['Other 3'].status && requestForInformationData['Other 3'].text.length > 1 && requestForInformationData['Other 3'].text.length < 10 ) ? 'is-invalid' : 'valid' " >
                    </td>
                    <td>
                      <label class="switch">
                        <input
                          type="checkbox"
                          (change)="updateRequestInformationFlag('Other 3',$event)"
                          name="onoffswitch"
                          [checked]="requestForInformationData['Other 3'].status"
                        />
                        <span class="slider round"></span>
                      </label>
                    </td>
                   </tr>
                   
                  </tbody>
                </table>
                <div class="pull-right mb-2">
                  <button type="submit" class="greenbutton" (click)="submitSendEmail()">Submit</button>
                </div>
              </div>
            </accordion-group>
          </accordion>
        </tab>

        <tab heading="User Information" *ngIf="data.from_details.length > 0 && tabs['User Information']">
          <div class="p10px">
            <div class="displayFlex AlignItemCenter spaceBetween p10px frameshadow">
              <div class="fs22px displayFlex AlignItemCenter spaceBetween flexDirection mr30px">
                <div class="profilePhoto">
                  <i class="fa fa-user" aria-hidden="true"></i>
                </div>
                <div class="nowrap">
                  {{ data.from_details[0]["firstName"] }}
                  {{ data.from_details[0]["lastName"] }}
                </div>
              </div>
            </div>

            <br /><br />

            <div class="list">
              <ul class="h700">
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">User Reference</div>
                    <div>
                      <a routerLink="/admin/users/{{
                          data.from_details[0]['user_id']
                        }}">
                        USR_{{ data.from_details[0]["user_ref"] }}
                      </a>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Name</div>
                    <div>
                      {{ data.from_details[0]["legalName"] }}
                      <span (click)="showUserNameEditModel(userNameEditTemp)" class="text-danger cursorpointer">
                        <i class="fa fa-edit" aria-hidden="true"></i>
                      </span>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Email Address</div>
                    <div>
                      {{ data.from_details[0]["email"] }}
                      <i class="fa fa-bell text-danger cursorpointer" aria-hidden="true"></i>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Phone Number</div>
                    <div>
                      {{ data.from_details[0]["businessPhone"] }}
                      <i class="fa fa-bell text-danger cursorpointer" aria-hidden="true"></i>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Business Start Date</div>
                    <div>{{ data.from_details[0]["startDate"] }}</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Address</div>
                    <div class="textAlignRight">
                      <div>
                        {{ data.from_details[0]["businessAddress"] }},
                        <i class="fa fa-edit text-danger cursorpointer" aria-hidden="true" (click)="
                            showStreetAddressEditModel(streetAddressEditTemp)
                          "></i>
                      </div>
                      <div>
                        {{ data.from_details[0]["city"] }}
                        <i class="fa fa-edit text-danger cursorpointer" aria-hidden="true"
                          (click)="showCityEditModel(cityEditTemp)"></i>
                      </div>
                      <div>
                        {{ data.from_details[0]["zipCode"] }}
                        <i class="fa fa-edit text-danger cursorpointer" aria-hidden="true"
                          (click)="showZipCodeEditModel(zipCodeEditTemp)"></i>
                      </div>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">State</div>
                    <div>{{ data.from_details[0]["state"] }}</div>
                  </div>
                </li>
                <li></li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Owner Name</div>
                    <div>
                      {{ data.from_details[0]["ownerFirstName"] }}
                      {{ data.from_details[0]["ownerLastName"] }}
                    </div>
                  </div>
                </li>
                <li></li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Owner Email</div>
                    <div>{{ data.from_details[0]["ownerEmail"] }}</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <!-- <div class="fontWeight">Owner Stated Income</div> -->
                    <div class="fontWeight">Owner Stated Income</div>
                    <div>{{ data.from_details[0]["ownerAnnualIncome"] }}</div>
                  </div>

                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Owner Mobile</div>
                    <div>{{ data.from_details[0]["ownerPhone"] }}</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Financing Exist</div>
                    <div>
                      Yes
                      <i class="fa fa-bell text-success cursorpointer" aria-hidden="true"></i>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Bank Added</div>
                    <div>
                      <i class="fa fa-bell text-success cursorpointer" aria-hidden="true"></i>
                    </div>
                  </div>
                </li>

                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Registered Date</div>
                    <div>{{ data.from_details[0]["createdAt"] }}</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Last Profile Update Date</div>
                    <div>{{ data.from_details[0]["updatedAt"] }}</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Last Year Revenue</div>
                    <div>${{ data.from_details[0]["lastYearRevenue"] }}</div>
                  </div>
                </li>

                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Business Structure</div>
                    <div>{{ data.from_details[0]["businessStructure"] }}</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Financing Requested</div>
                    <div>{{ data.loanDetails[0]["financingRequested"] }}</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Financing Term Requested</div>
                    <div *ngIf="data.loanDetails[0]['financingTermRequested']!=null">{{
                      data.loanDetails[0]["financingTermRequested"]}}
                      months / {{data.loanDetails[0]["interestBaseRate"]}}% interest
                    </div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Origination Fee</div>
                    <div *ngIf="data.loanDetails[0]['originationFee']!=null">{{
                      data.loanDetails[0]["financingRequested"] * (data.loanDetails[0]["originationFee"]/100) }}</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Anticipated Financed Amount</div>
                    <div>--</div>
                  </div>
                </li>
                <li class="displayNone">
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">PreDTI Debt</div>
                    <div>--</div>
                  </div>
                </li>
                <li class="displayNone">
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Funding Tier</div>
                    <div>--</div>
                  </div>
                </li>

                <li class="displayNone">
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">PreDTI Debt(%)</div>
                    <div>--</div>
                  </div>
                </li>
                <li class="displayNone">
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">PreDTI Debt(%)</div>
                    <div>--</div>
                  </div>
                </li>
                <li class="displayNone">
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Payroll Detected Income</div>
                    <div>$0.00</div>
                  </div>
                </li>
                <li class="displayNone">
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Housing Expense</div>
                    <div>$0.00</div>
                  </div>
                </li>
                <li class="displayNone">
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Income Type</div>
                    <div>Modified by admin</div>
                  </div>
                </li>
                <li class="displayNone">
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Underwriting Rules</div>
                    <div>--</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Application Reference Number</div>
                    <div>APP_{{ data.from_details[0]["ref_no"] }}</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Financing Status</div>
                    <div class="text-success">Pending</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Denied Reason</div>
                    <div class="text-success">--</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Counter offered</div>
                    <div class="text-success">--</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Application Created By</div>
                    <div class="text-success">User</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Plaid Re-sent By</div>
                    <div class="text-success">--</div>
                  </div>
                </li>
                <li>
                  <div class="displayFlex listdetails">
                    <div class="fontWeight">Offer Link Send By</div>
                    <div class="text-success">--</div>
                  </div>
                </li>
              </ul>
            </div>
          </div>

          <div>
            <div *ngIf="equifaxConsumerReport?.Rules; else equifaxConsumerReport_err">
              <div>
                <div class="mainTitle p-3">Consumer Rules Information</div>
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <th style='width:30%;font-weight: 700;'>Rule</th>
                      <th style='width:30%;font-weight: 700;'>Rule Message</th>
                      <th style='width:30%;font-weight: 700;'>Rule Status</th>
                    </tr>
                    <tr *ngFor="let c of equifaxConsumerReport.Rules">
                      <td>{{c.Rule}}</td>
                      <td>{{c.RuleMessage}}</td>
                      <td>
                        <span
                          [ngStyle]="c.RuleStatus === 'FAIL' ? { 'color': 'red' } : c.RuleStatus === 'BYPASS' ? { 'color': 'orange' }  : { 'color': 'green' }"
                        >
                          {{c.RuleStatus}}
                        </span>
                      </td>
                    </tr>

                </table>
              </div>
            </div>
            <ng-template #equifaxConsumerReport_err>No Rules Data Recieved!</ng-template>

            <div *ngIf="equifaxCommercialReport?.Rules; else comm_err">
              <div>
                <div class="mainTitle p-3">Business Rules Information</div>
                <table class="table table-bordered">
                  <tbody>

                    <tr>
                      <th style='width:30%;font-weight: 700;'>Rule</th>
                      <th style='width:30%;font-weight: 700;'>Rules Message</th>
                      <th style='width:30%;font-weight: 700;'>Rule Status</th>
                    </tr>
                    <tr *ngFor="let c of equifaxCommercialReport.Rules">

                      <td>{{ c.Rule }}</td>
                      <td>{{ c.RuleMessage }}</td>
                      <td>
                        <span
                          [ngStyle]="c.RuleStatus=='FAIL'?{'color':'red'} : {'color': 'green'}">{{ c.RuleStatus }}</span>
                      </td>
                    </tr>

                </table>
              </div>
            </div>
            <ng-template #comm_err>No Rules Data Recieved!</ng-template>
          </div>
        </tab>

        <tab heading="Lending Limit" *ngIf="data.from_details.length > 0 && tabs['User Information']">
          <table class="table table-bordered">
            <tr class="bold">
              <th>Product</th>
              <th>PG Modeled Income Lending Limit</th>
              <th>PG Stated Income Lending Limit</th>
              <th>Business Cash Test Lending Limit</th>
              <th>Calculated Lending Limit</th>
              <th>Adjusted Lending Limit</th>
              <th>Financing Approved</th>
            </tr>
            <tbody *ngIf="loanProducts.length != 0">
              <tr *ngFor="let d of loanProducts" >
                <td [ngClass]="{ 'isbackground': financingTab[0].productName==d.productName }">{{d.productName}}</td>
                <td [ngClass]="{ 'isbackground': financingTab[0].productName==d.productName }">${{changeAmtVal(d.personalGuarantorLimitModeled)}}</td>
                <td [ngClass]="{ 'isbackground': financingTab[0].productName==d.productName }">${{changeAmtVal(d.personalGuarantorLimitStated)}}</td>
                <td [ngClass]="{ 'isbackground': financingTab[0].productName==d.productName }">${{changeAmtVal(d.businessBorrowerLimit)}}</td>
                <td [ngClass]="{ 'isbackground': financingTab[0].productName==d.productName }">${{changeAmtVal(d.lendingLimit)}}</td>
                <td [ngClass]="{ 'isbackground': financingTab[0].productName==d.productName }">${{changeAmtVal(d.adjLendingLimit)}}</td>
                <td [ngClass]="{ 'isbackground': financingTab[0].productName==d.productName }">${{changeAmtVal(d.financingApproved)}}</td>
              </tr>
             
            </tbody>
          </table>
        </tab>

        <tab heading="Credit Report" *ngIf="data.from_details.length > 0 && tabs['Credit Report']">
          <div>
            <h3 style="padding: 10px 0px 0px 10px;font-weight: 700;">
              <b>
                Equifax Consumer & Commercial Raw CreditReport
              </b>
            </h3>
            <accordion class="p10">
              <accordion-group heading="Equifax Consumer Raw Report Information">
                <accordion class="p10">
                  <div *ngIf="equifaxConsumerReport; else consumer_err">
                    <pre style="line-height: 21px;height: 500px;overflow: auto;text-align: justify;">
                    {{ equifaxConsumerReport | json:3 }}
                  </pre>
                  </div>
                  <ng-template #consumer_err>No Consumer Raw Data Recieved!</ng-template>
                </accordion>
              </accordion-group>

              <accordion-group heading="Equifax Commercial Raw Report Information">
                <accordion class="p10">
                  <div *ngIf="equifaxCommercialReport; else commercial_err">
                    <pre style="line-height: 21px;height: 500px;overflow: auto;text-align: justify;">
                  {{ equifaxCommercialReport | json:3 }}</pre>

                  </div>
                  <ng-template #commercial_err>No Commercial Raw Data Recieved!</ng-template>
                </accordion>
              </accordion-group>
            </accordion>
          </div>

          <div *ngIf="equifaxConsumerReport; else equifaxConsumerReport_err">
            <h3 style="padding: 10px 0px 0px 10px;font-weight: 700;">
              <b>Equifax Consumer Credit Report</b>
            </h3>

            <accordion
              *ngIf="equifaxConsumerReport.creditScore"
              class="p10"
            >
              <accordion-group heading="User Information">
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <th style="width: 50%">First Name</th>
                      <td>
                        {{ equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.subjectName?.firstName || '--' }}
                      </td>
                    </tr>
                    <tr>
                      <th>Last Name</th>
                      <td>
                        {{ equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.subjectName?.lastName || '--' }}
                      </td>
                    </tr>
                    <tr>
                      <th>Middle Name</th>
                      <td>
                        {{ equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.subjectName?.middleName || '--' }}
                      </td>
                    </tr>
                    <tr>
                      <th>Social Security Number</th>
                      <td>
                        {{ equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.subjectSocialNum || '--' }}
                      </td>
                    </tr>
                    <tr>
                      <th>Credit score</th>
                      <td>
                        {{ equifaxConsumerReport.creditScore }}
                      </td>
                    </tr>
                    <tr>
                      <th>Former Names First Name</th>
                      <td>
                        {{ equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.formerNames ?
                          equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.formerNames[0].firstName :
                          '--'
                        }}
                      </td>
                    </tr>
                    <tr>
                      <th>Former Names Last Name</th>
                      <td>
                        {{ equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.formerNames ?
                          equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.formerNames[0].lastName :
                          '--'
                        }}
                      </td>
                    </tr>
                    <tr>
                      <th class='font-weight7'>Fraud ID Scan Alert Codes</th>
                      <th class='font-weight7'>Fraud ID Scan Alert description</th>
                    </tr>
                    <tr *ngFor='let fval of equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.fraudIDScanAlertCodes'>
                      <td>{{ fval.code}}</td>
                      <td>{{ fval.description}}</td>
                    </tr>
                    <tr>
                      <th class="font-weight7">Identifier Description</th>
                      <th class="font-weight7">Identifier Value</th>
                    </tr>
                    <tr *ngFor="let idres of data.filter_att; let i = index">
                      <td *ngIf="data.attributes">{{ getattFiltervalcode(idres.identifier,data.attributes) }}</td>
                      <td *ngIf="idres.value; else value_err">{{ idres.value }}</td>
                      <ng-template #value_err>
                        <td>---</td>
                      </ng-template>
                    </tr>
                  </tbody>
                </table>

                <table class="table table-bordered" *ngIf="data.model_filter_array.length > 0">
                  <tbody>
                    <tr>
                      <th class="font-weight7">Model Type</th>
                      <th class="font-weight7">Model Number</th>
                      <th class="font-weight7">Score</th>
                      <th class="font-weight7">Model IDOr Scorecard</th>
                    </tr>
                    <tr *ngFor="let mdval of data.model_filter_array; let i = index">
                      <td>{{ mdval.type }}</td>
                      <td *ngIf="mdval.modelNumber === '05453'; else m_err">
                        CONSUMER INCOME VIEW - {{mdval.modelNumber}}
                      </td>
                      <ng-template #m_err>
                        <td *ngIf="mdval.modelNumber=='04129';else m1_err">ABILITYTOPAYFULL -{{ mdval.modelNumber }}
                        </td>
                        <ng-template #m1_err>
                          <td>---</td>
                        </ng-template>
                      </ng-template>
                      <td>{{mdval.score}}</td>
                      <td>{{mdval.modelIDOrScorecard}}</td>
                    </tr>
                  </tbody>
                </table>
              </accordion-group>

              <accordion-group heading="Address Information">
                <table
                  class="table table-bordered"
                  *ngIf="equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.addresses; else address_arr"
                >
                  <tbody>
                    <tr>
                      <th class='font-weight7'>Address Type</th>
                      <th class='font-weight7'>House Number</th>
                      <th class='font-weight7'>Street Name</th>
                      <th class='font-weight7'>Street Type</th>
                      <th class='font-weight7'>Address</th>
                      <th class='font-weight7'>Source Of Address</th>
                      <th class='font-weight7'>Address Line1</th>
                    </tr>
                    <tr *ngFor='let addr of equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.addresses'>
                      <td>{{ addr.addressType }}</td>
                      <td>{{ addr.houseNumber }}</td>
                      <td>{{ addr.streetName }}</td>
                      <td>{{ addr.streetType }}</td>
                      <td>{{ addr.stateAbbreviation }},{{ addr.cityName }},{{ addr.zipCode }}</td>
                      <td>{{ addr.sourceOfAddress.description }}</td>
                      <td>{{ addr.addressLine1 }}</td>
                    </tr>
                  </tbody>
                </table>
                <ng-template #address_arr>No Data Recieved!</ng-template>
              </accordion-group>

              <accordion-group heading="Credit Information">
                <accordion class="p10">
                  <accordion-group heading="Trade Information">
                    <div *ngIf="equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.trades; else trade_err">
                      <div *ngFor="let tradeData of equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.trades">
                        <table class="table table-bordered">
                          <tbody>
                            <tr>
                              <th>Subscriber Member Code</th>
                              <td>
                                {{ tradeData.customerNumber?tradeData.customerNumber:'--' }}
                              </td>
                            </tr>
                            <tr>
                              <th>Subscriber Name</th>
                              <td>
                                {{ tradeData.customerName?tradeData.customerName:'--' }}
                              </td>
                            </tr>
                            <tr>
                              <th>Portfolio Type</th>
                              <td>
                                {{ tradeData.tradeType?tradeData.tradeType:'--' }}
                              </td>
                            </tr>
                            <tr>
                              <th>Account Number</th>
                              <td>
                                {{ tradeData.accountNumber?tradeData.accountNumber:'--' }}
                              </td>
                            </tr>
                            <tr>
                              <th>ECOA Designator</th>
                              <td>
                                {{ (tradeData.accountDesignator?.code)?(tradeData.accountDesignator?.code):'--' }}
                              </td>
                            </tr>
                            <tr>
                              <th>Date Opened</th>
                              <td>
                                {{ tradeData.dateOpened?tradeData.dateOpened:'--' }}
                              </td>
                            </tr>
                            <tr>
                              <th>Current Balance</th>
                              <td>
                                {{ tradeData.balance?tradeData.balance:'--' }}
                              </td>
                            </tr>
                            <tr>
                              <th>High Credit</th>
                              <td>
                                {{ tradeData.highCredit?tradeData.highCredit:'--' }}
                              </td>
                            </tr>
                            <tr>
                              <th>Account Rating</th>
                              <td>
                                {{ (tradeData.rate?.code)?(tradeData.rate?.code):'--' }}
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <br />
                        <accordion class="p10" *ngIf="tradeData.detailedPaymentHistory">
                          <accordion-group heading="Payment Information"
                            *ngFor="let payment of tradeData.detailedPaymentHistory">
                            <table class="table table-bordered">
                              <tbody>
                                <tr>
                                  <th>{{ payment.date }}</th>
                                  <td>
                                    {{ payment.rate?payment.rate:'--' }}
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </accordion-group>
                        </accordion>
                      </div>
                    </div>
                    <ng-template #trade_err>No Trade Date Recieved!</ng-template>
                  </accordion-group>

                  <accordion-group heading="Inquiry Information">
                    <div *ngIf="equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.inquiries; else inq_err">
                      <table
                        class="table table-bordered"
                        *ngFor="let inquiryData of equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.inquiries"
                      >
                        <tbody>
                          <tr>
                            <th style="width: 50%">Customer Name</th>
                            <td>
                              {{ inquiryData.customerName?inquiryData.customerName:'--' }}
                            </td>
                          </tr>
                          <tr>
                            <th style="width: 50%">Customer Number</th>
                            <td>
                              {{ inquiryData.customerNumber?inquiryData.customerNumber:'--' }}
                            </td>
                          </tr>
                          <tr>
                            <th style="width: 50%">Date</th>
                            <td>
                              {{ inquiryData.inquiryDate?inquiryData.inquiryDate:'--' }}
                            </td>
                          </tr>
                          <tr>
                            <th>Industry</th>
                            <td>
                              {{
                              inquiryData.auto?inquiryData.auto:
                              inquiryData.utility?inquiryData.utility:
                              inquiryData.mortgage?inquiryData.mortgage:
                              inquiryData.foreignInquiry?inquiryData.foreignInquiry:
                              '--'
                              }}
                            </td>
                          </tr>
                          <tr>
                            <th>Industry Code</th>
                            <td>
                              {{ inquiryData.industryCode?inquiryData.industryCode:'--' }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <ng-template #inq_err>No Inquiries Data Recieved!</ng-template>
                  </accordion-group>

                  <accordion-group heading="Models Information">
                    <div
                      *ngIf="equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.models;else models_err">
                      <table class="table table-bordered">
                        <tbody>
                          <tr>
                            <th class='font-weight7'>Type</th>
                            <th class='font-weight7'>Score</th>
                            <th class='font-weight7'>Model Number</th>
                            <th class='font-weight7'>ModelID Or Scorecard</th>

                          </tr>
                          <tr
                            *ngFor='let mval of equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.models'>
                            <td>{{mval.type}}</td>
                            <td>{{mval.score}}</td>
                            <td>{{mval.modelNumber}}</td>
                            <td>{{mval.modelIDOrScorecard}}</td>

                          </tr>
                        </tbody>
                      </table>

                    </div>
                    <ng-template #models_err>No Models Data Received</ng-template>
                  </accordion-group>

                  <accordion-group heading="Identification Information">
                    <div
                      *ngIf="equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.identification;else identification_err">
                      <table class="table table-bordered">
                        <tbody>
                          <tr
                            *ngFor='let ival of objectKeys(equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.identification)'>
                            <th style='width: 40%' class='font-weight7'>{{ival}}</th>
                            <td>
                              {{equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.identification[ival]}}
                            </td>
                          </tr>

                        </tbody>
                      </table>
                    </div>
                    <ng-template #identification_err>No Identification Data Received</ng-template>
                  </accordion-group>

                  <accordion-group heading="Attributes Information">
                    <div
                      *ngIf="equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.attributes;else attributes_err">
                      <table class="table table-bordered">
                        <tbody>

                          <tr
                            *ngFor="let attVal of equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.attributes">
                            <th class="font-weight7">Model Number</th>
                            <td>{{attVal.modelNumber}}</td>
                          </tr>
                          <tr>
                            <th class="font-weight7">Identifier Description</th>
                            <th class="font-weight7">Identifier Value</th>
                          </tr>
                          <tr
                            *ngFor="let id of equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.attributes[0]?.attributes;let i = index">
                            <!-- <td>{{id.identifier}}</td> -->
                            <td>{{getattvalcode(id.identifier,data.attributes)}}</td>
                            <td *ngIf="id.value!=null;else value_err">{{id.value}}</td>
                            <ng-template #value_err>
                              <td>---</td>
                            </ng-template>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <ng-template #attributes_err>No Attributes Data Received</ng-template>
                  </accordion-group>

                  <accordion-group heading="OfacAlerts Information">
                    <div
                      *ngIf="equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.ofacAlerts;else ofacAlerts_err">
                      <table class="table table-bordered"
                        *ngFor='let ofval of equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.ofacAlerts'>
                        <tbody>
                          <tr>
                            <th class='font-weight7'>Revised Legal Verbiage Indicator</th>
                            <td>{{ofval.revisedLegalVerbiageIndicator}}</td>
                          </tr>
                          <tr>
                            <th class='font-weight7'>Memberfirmcode</th>
                            <td>{{ofval.memberFirmCode}}</td>
                          </tr>
                          <tr>
                            <th class='font-weight7'>Cdctransactiondate</th>
                            <td>{{ofval.cdcTransactionDate}}</td>
                          </tr>
                          <tr>
                            <th class='font-weight7'>Cdctransactiontime</th>
                            <td>{{ofval.cdcTransactionTime}}</td>
                          </tr>
                          <tr>
                            <th class='font-weight7'>Transactiontype</th>
                            <td>{{ofval.transactionType}}</td>
                          </tr>
                          <tr>
                            <th class='font-weight7'>Cdcresponsecode</th>
                            <td>{{ofval.cdcResponseCode}}</td>
                          </tr>
                          <tr>
                            <th class='font-weight7'>Legalverbiage</th>
                            <td>{{ofval.legalVerbiage}}</td>
                          </tr>
                          <tr>
                            <th class='font-weight7'>Datasegmentregulated</th>
                            <td>{{ofval.dataSegmentRegulated}}</td>
                          </tr>


                        </tbody>
                      </table>
                    </div>
                    <ng-template #ofacAlerts_err>No OfacAlerts Data Received</ng-template>
                  </accordion-group>

                  <accordion-group heading="Consumer Referral Location">
                    <div
                      *ngIf="equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.consumerReferralLocation;else ref_arr">
                      <table class="table table-bordered">
                        <tbody>
                          <tr
                            *ngFor="let refval of objectKeys(equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.consumerReferralLocation)">
                            <th style='width: 40%' class='font-weight7'>{{refval}}</th>
                            <td *ngIf='refval!="address" && refval!="telephoneNumber"'>
                              {{equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.consumerReferralLocation[refval]}}
                            </td>
                            <td *ngIf='refval=="address"'>
                              {{equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.consumerReferralLocation[refval].cityName}}
                              ,{{equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.consumerReferralLocation[refval].stateAbbreviation}}
                              ,{{equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.consumerReferralLocation[refval].zipCode}}
                            </td>
                            <td *ngIf='refval=="telephoneNumber"'>
                              {{equifaxConsumerReport.equaifax?.consumers?.equifaxUSConsumerCreditReport[0]?.consumerReferralLocation[refval].telephoneNumber}}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <ng-template #ref_arr>No Consumer Referral Location Data Received</ng-template>
                  </accordion-group>


                </accordion>
              </accordion-group>
            </accordion>
          </div>
          <ng-template #equifaxConsumerReport_err>
            No Equifax Consumer Report Received!<br><br>
          </ng-template>

          <div *ngIf="equifaxCommercialReport; else equifaxCommercialReport_err">
            <h3 style="padding: 10px 0px 0px 10px;font-weight: 700;">
              <b>Equifax Commercial Credit Report</b>
            </h3>

            <accordion
              *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport && !isObjectEmpty(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder)"
              class="p10"
            >
              <accordion-group heading="Alert Information">
                <div
                  *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder && equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Alert;else alert_arr">


                  <table class="table table-bordered"
                    *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Alert.length>0;else al_arr">
                    <tbody>

                      <tr>
                        <th style='width:30%;font-weight: 700;'>Alert Code</th>
                        <th style='width:70%;font-weight: 700;'>Alert Description</th>
                      </tr>
                      <tr
                        *ngFor="let c of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Alert">
                        <td>
                          {{c.AlertCode}}
                        </td>
                        <td>
                          {{c.AlertDescription}}
                        </td>
                      </tr>

                    </tbody>
                  </table>


                  <table class="table table-bordered"
                    *ngIf="isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Alert) && equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Alert.length==undefined">
                    <tbody>
                      <tr
                        *ngFor="let commercialData of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Alert)">
                        <th class="font-weight7">
                          {{commercialData}}
                        </th>
                        <td>
                          {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Alert[commercialData]}}
                        </td>
                      </tr>
                    </tbody>
                  </table>


                </div>
                <ng-template #alert_arr>No Alert Information Data Received</ng-template>
              </accordion-group>

              <accordion-group heading="Scores Information">
                <div
                  *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder && (equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.DecisionTools.ScoreData.length>0 && equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.DecisionTools.ScoreData);else score_arr">
                  <table class="table table-bordered">
                    <tbody>
                      <tr>
                        <th style='font-weight: 700;'>Score Name</th>
                        <th style='font-weight: 700;'>Score</th>
                        <th style='font-weight: 700;'>Score Type</th>
                      </tr>
                      <tr
                        *ngFor="let score of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.DecisionTools.ScoreData">
                        <td>
                          {{ score.scoreName }}
                        </td>
                        <td>
                          {{ score.score }}
                        </td>
                        <td>
                          {{ score.scoreType }}
                        </td>
                      </tr>
                    </tbody>
                  </table>

                  <table class="table table-bordered">
                    <tbody>
                      <tr>
                        <th style='font-weight: 700;'><b>Reason Code</b></th>
                        <th style='font-weight: 700;'><b>Score</b></th>
                        <th style='font-weight: 700;'><b>Reason</b></th>
                      </tr>
                      <tr
                        *ngFor="let r of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.DecisionTools.ScoreData[0].ReasonCode">
                        <td>
                          {{ r.code }}
                        </td>
                        <td>
                          {{ r.score }}
                        </td>
                        <td>
                          {{ r.value }}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <ng-template #score_arr>No Score Data Received</ng-template>
              </accordion-group>

              <accordion-group heading="Report Attributes Information">
                <div
                  *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder && equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes;else report_arr">
                  <accordion class="p10">
                    <accordion-group heading="FinancialSummary Information">
                      <div
                        *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.FinancialSummary;else FinancialSummary_arr">
                        <div
                          *ngFor="let f of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.FinancialSummary)">
                          <accordion-group heading="{{f}} Information">
                            <accordion class='p10' *ngIf='f=="SummaryAttributes"'>
                              <div>
                                <table class="table table-bordered">
                                  <tbody>
                                    <tr
                                      *ngFor='let sumval of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.FinancialSummary[f])'>
                                      <th class="font-weight7">{{sumval}}</th>

                                      <td
                                        *ngIf='isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.FinancialSummary[f][sumval]);else else_sumval'>
                                        {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.FinancialSummary[f][sumval].value}}
                                      </td>
                                      <ng-template #else_sumval>
                                        <td>
                                          {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.FinancialSummary[f][sumval]}}
                                        </td>
                                      </ng-template>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </accordion>
                            <accordion class='p10' *ngIf='f=="CreditUtilization"'>
                              <div>
                                <table class="table table-bordered">
                                  <tbody>
                                    <tr
                                      *ngFor='let sumval of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.FinancialSummary[f])'>
                                      <th class="font-weight7">{{sumval}}</th>

                                      <td
                                        *ngIf='isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.FinancialSummary[f][sumval]);else else_sumval'>
                                        {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.FinancialSummary[f][sumval].value}}
                                      </td>
                                      <ng-template #else_sumval>
                                        <td>
                                          {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.FinancialSummary[f][sumval]}}
                                        </td>
                                      </ng-template>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </accordion>
                          </accordion-group>
                        </div>
                      </div>
                      <ng-template #FinancialSummary_arr>No Financial Summary Data Received</ng-template>
                    </accordion-group>

                    <accordion-group heading="Non-FinancialSummary Information">
                      <div
                        *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary;else Non_FinancialSummary_arr">
                        <div
                          *ngFor="let nonf of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary)">
                          <accordion-group heading="{{nonf}} Information">
                            <accordion class='p10' *ngIf='nonf=="SummaryAttributes"'>
                              <table class="table table-bordered">
                                <tbody>
                                  <tr
                                    *ngFor='let nonsumval of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf])'>
                                    <th class="font-weight7">{{nonsumval}}</th>

                                    <td
                                      *ngIf='isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf][nonsumval]);else else_nonsumval'>
                                      {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf][nonsumval].value}}
                                    </td>
                                    <ng-template #else_nonsumval>
                                      <td>
                                        {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf][nonsumval]}}
                                      </td>
                                    </ng-template>
                                  </tr>
                                </tbody>
                              </table>

                            </accordion>
                            <accordion class='p10' *ngIf="nonf=='RecentDBT'">
                              {{nonf}} :
                              {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf]}}
                            </accordion>
                            <accordion class='p10' *ngIf="nonf=='AvgDBT'">
                              <table class="table table-bordered">
                                <tbody>
                                  <tr>
                                    <th style='font-weight: 700;'>Date DBT </th>
                                    <th style='font-weight: 700;'>DBT</th>
                                  </tr>
                                  <tr
                                    *ngFor='let avg of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf];let a=index'>
                                    <td>{{avg.dateDBT | date:'MM-dd-yyyy'}}</td>
                                    <td>{{avg.DBT}}</td>
                                  </tr>
                                </tbody>
                              </table>

                            </accordion>
                            <accordion class='p10' *ngIf="nonf=='IndustryDBT'">
                              <table class="table table-bordered">
                                <tbody>
                                  <!-- <div *ngIf='isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf][0].Industry)';else ind_arr>
                                <tr *ngFor='let avgs of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf][0].Industry);'>
                                  <th  style='font-weight: 700;'>{{avgs}}</th>
                                  <td>{{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf][0].Industry[avgs]}}</td>
                                </tr>
                              </div>
                              <ng-template #ind_arr>
                                <div>
                                <tr >
                                  <th  style='font-weight: 700;'>Industry</th>
                                  <td>{{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf][0].Industry}}</td>
                                </tr>
                              </div>
                              </ng-template> -->
                                  <!-- <tr >
                                <th  style='font-weight: 700;'>Industry</th>
                                <td>{{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf][0].Industry}}</td>
                              </tr> -->

                                  <!-- <td *ngIf='isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType[thval][0][TimePeriods]);else else_nonsumvals'>
                                {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType[thval][0][TimePeriods].value}}
                              </td>
                              <ng-template #else_nonsumvals>
                                <td>{{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType[thval][0][TimePeriods]}}
                                </td>
                              </ng-template> -->

                                </tbody>
                              </table>

                              <table class="table table-bordered">
                                <tbody>
                                  <tr>
                                    <th style='font-weight: 700;'>Date</th>
                                    <th style='font-weight: 700;'>Value</th>
                                  </tr>
                                  <!-- <tr *ngFor='let avgsv of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf][0].DataPoint;let a=index'>
                                  <td>{{avgsv.Date}}</td>
                                  <td>{{avgsv.Value}}</td>
                              </tr> -->
                                </tbody>
                              </table>

                            </accordion>

                            <accordion class='p10' *ngIf="nonf=='CountryDBT'">
                              <table class="table table-bordered">
                                <tbody>
                                  <tr>
                                    <th style='font-weight: 700;'>Country</th>
                                    <th style='font-weight: 700;'>Date</th>
                                    <th style='font-weight: 700;'>Value</th>
                                  </tr>
                                  <!-- <tr *ngFor='let avgsv of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf][0].DataPoint;let a=index'>
                                  <td>{{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.NonFinancialSummary[nonf][0].Country}}</td>
                                <td>{{avgsv.Date}}</td>
                                  <td>{{avgsv.Value}}</td>
                              </tr> -->
                                </tbody>
                              </table>
                            </accordion>

                          </accordion-group>



                        </div>
                      </div>
                      <ng-template #Non_FinancialSummary_arr>No Non Financial Summary Data Received</ng-template>
                    </accordion-group>

                    <accordion-group heading="PaymentIndexInfo Information">
                      <div
                        *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.PaymentIndexInfo;else PaymentIndexInfo_arr">

                        <table class="table table-bordered">
                          <tbody>
                            <tr
                              *ngFor='let avgs of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.PaymentIndexInfo)'>
                              <th style='font-weight: 700;'>{{avgs}}</th>
                              <td>
                                {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.PaymentIndexInfo[avgs]}}
                              </td>
                            </tr>
                          </tbody>
                        </table>

                      </div>
                      <ng-template #PaymentIndexInfo_arr>No Payment IndexInfo Data Received</ng-template>
                    </accordion-group>

                    <accordion-group heading="OpenFiByAcctType Information">
                      <div
                        *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType;else OpenFiByAcctType_arr">
                        <accordion>
                          <div
                            *ngFor='let thval of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType)'>

                            <accordion-group heading="{{thval}} Information">
                              <table class="table table-bordered" *ngIf="thval=='TimePeriod'">
                                <tbody>
                                  <tr
                                    *ngFor='let TimePeriod of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType[thval])'>
                                    <th style='font-weight: 700;'>{{TimePeriod}}</th>
                                    <td>
                                      {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType[thval][TimePeriod]}}
                                    </td>
                                  </tr>
                                </tbody>
                              </table>

                              <table class="table table-bordered" *ngIf="thval=='OpenSummaryAttributes'">
                                <tbody>
                                  <tr
                                    *ngFor='let TimePeriods of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType[thval][0])'>
                                    <th style='font-weight: 700;'>{{TimePeriods}}</th>
                                    <td
                                      *ngIf='isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType[thval][0][TimePeriods]);else else_nonsumvals'>
                                      {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType[thval][0][TimePeriods].value}}
                                    </td>
                                    <ng-template #else_nonsumvals>
                                      <td>
                                        {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType[thval][0][TimePeriods]}}
                                      </td>
                                    </ng-template>
                                  </tr>
                                </tbody>
                              </table>

                              <table class="table table-bordered" *ngIf="thval=='OpenSummaryAttributesTotals'">
                                <tbody>
                                  <tr
                                    *ngFor='let TimePeriods of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType[thval])'>
                                    <th style='font-weight: 700;'>{{TimePeriods}}</th>
                                    <td
                                      *ngIf='isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType[thval][TimePeriods]);else else_nonsumvals'>
                                      {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType[thval][TimePeriods].value}}
                                    </td>
                                    <ng-template #else_nonsumvals>
                                      <td>
                                        {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenFiByAcctType[thval][TimePeriods]}}
                                      </td>
                                    </ng-template>
                                  </tr>
                                </tbody>
                              </table>

                            </accordion-group>

                          </div>
                        </accordion>
                      </div>
                      <ng-template #OpenFiByAcctType_arr>No OpenFiBy AcctType Data Received</ng-template>
                    </accordion-group>

                    <accordion-group heading="OpenNonFiByIndGroup Information">
                      <div
                        *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenNonFiByIndGroup;else OpenNonFiByIndGroup_arr">
                        <accordion>
                          <div
                            *ngFor='let thval of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenNonFiByIndGroup)'>

                            <accordion-group heading="{{thval}} Information">
                              <table class="table table-bordered" *ngIf="thval=='TimePeriod'">
                                <tbody>
                                  <tr
                                    *ngFor='let TimePeriod of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenNonFiByIndGroup[thval])'>
                                    <th style='font-weight: 700;'>{{TimePeriod}}</th>
                                    <td>
                                      {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenNonFiByIndGroup[thval][TimePeriod]}}
                                    </td>
                                  </tr>
                                </tbody>
                              </table>

                              <table class="table table-bordered" *ngIf="thval=='OpenSummaryAttributes'">
                                <tbody>
                                  <tr
                                    *ngFor='let TimePeriods of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenNonFiByIndGroup[thval][0])'>
                                    <th style='font-weight: 700;'>{{TimePeriods}}</th>
                                    <td
                                      *ngIf='isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenNonFiByIndGroup[thval][0][TimePeriods]);else else_nonsumvals'>
                                      {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenNonFiByIndGroup[thval][0][TimePeriods].value}}
                                    </td>
                                    <ng-template #else_nonsumvals>
                                      <td>
                                        {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenNonFiByIndGroup[thval][0][TimePeriods]}}
                                      </td>
                                    </ng-template>
                                  </tr>
                                </tbody>
                              </table>

                              <table class="table table-bordered" *ngIf="thval=='OpenSummaryAttributesTotals'">
                                <tbody>
                                  <tr
                                    *ngFor='let TimePeriods of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenNonFiByIndGroup[thval])'>
                                    <th style='font-weight: 700;'>{{TimePeriods}}</th>
                                    <td
                                      *ngIf='isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenNonFiByIndGroup[thval][TimePeriods]);else else_nonsumvals'>
                                      {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenNonFiByIndGroup[thval][TimePeriods].value}}
                                    </td>
                                    <ng-template #else_nonsumvals>
                                      <td>
                                        {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.ReportAttributes.OpenNonFiByIndGroup[thval][TimePeriods]}}
                                      </td>
                                    </ng-template>
                                  </tr>
                                </tbody>
                              </table>

                            </accordion-group>

                          </div>
                        </accordion>
                      </div>
                      <ng-template #OpenNonFiByIndGroup_arr>No OpenNonFiBy IndGroup Data Received</ng-template>
                    </accordion-group>
                    <accordion-group heading="IdTrait Information">
                      <div
                        *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder && equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.IdTrait!=null;else IdTrait_err">
                        <accordion class="p10">
                          <accordion-group heading="AddressTrait Information">
                            <div
                              *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.IdTrait[0].AddressTrait!=null;else addresstrait_err">
                              <div
                                *ngFor="let mval of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.IdTrait[0].AddressTrait;let iv=index">
                                <table class="table table-bordered" *ngIf="iv==0">
                                  <tbody>
                                    <tr>
                                      <th style='font-weight: 700;'>Name</th>
                                      <th style='font-weight: 700;'>Attribute Value</th>
                                      <th style='font-weight: 700;'>Match Value</th>
                                    </tr>
                                    <tr *ngFor="let mvals of mval.TraitActivity.MatchQuality.MatchQualityAttribute">
                                      <td>{{mvals.name}}</td>
                                      <td>{{mvals.AttributeValue}}</td>
                                      <td>{{mvals.MatchValue}}</td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                            <ng-template #addresstrait_err><span>No Records Found!.</span></ng-template>
                          </accordion-group>

                          <accordion-group heading="IdNumberTrait Information">
                            <div
                              *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.IdTrait[0].IdNumberTrait!=null;else IdNumberTrait_err">
                              <div>
                                <table class="table table-bordered">
                                  <tbody>
                                    <tr>
                                      <th style='font-weight: 700;'>Id Number</th>
                                      <th style='font-weight: 700;'>Id Number Indicator</th>
                                    </tr>
                                    <tr
                                      *ngFor="let idnum of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.IdTrait[0].IdNumberTrait">
                                      <td>{{idnum.IdNumber}}</td>
                                      <td>{{idnum.IdNumberIndicator}}</td>
                                    </tr>
                                  </tbody>

                                </table>


                                <table class="table table-bordered">
                                  <tbody>
                                    <tr>
                                      <th style='font-weight: 700;'>Primary Indicator</th>
                                      <th style='font-weight: 700;'>Date Created</th>
                                      <th style='font-weight: 700;'>Reported Date</th>

                                    </tr>
                                    <tr
                                      *ngFor="let tr_ac1 of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.IdTrait[0].IdNumberTrait;let a=index">
                                      <td>{{tr_ac1.TraitActivity.PrimaryIndicator}}</td>
                                      <td>{{tr_ac1.TraitActivity.DateCreated}}</td>
                                      <td>{{tr_ac1.TraitActivity.ReportedDate}}</td>
                                    </tr>
                                  </tbody>
                                </table>


                              </div>
                            </div>
                            <ng-template #IdNumberTrait_err><span>No IDNumber Trait Records Found!.</span></ng-template>

                          </accordion-group>
                          <accordion-group heading="InternetTrait Information">
                            <div
                              *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.IdTrait[0].InternetTrait!=null;else InternetTrait_err">
                              <table class="table table-bordered">
                                <tbody>
                                  <tr>
                                    <th style='font-weight: 700;'>EmailAddress</th>
                                    <th style='font-weight: 700;'>Primary Indicator</th>
                                    <th style='font-weight: 700;'>Date Created</th>
                                    <th style='font-weight: 700;'>Reported Date</th>
                                  </tr>
                                  <tr
                                    *ngFor="let tr_int of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.IdTrait[0].InternetTrait;let a=index">
                                    <td>{{tr_int.EmailAddress}}</td>
                                    <td>{{tr_int.TraitActivity.PrimaryIndicator}}</td>
                                    <td>{{tr_int.TraitActivity.DateCreated}}</td>
                                    <td>{{tr_int.TraitActivity.ReportedDate}}</td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                            <ng-template #InternetTrait_err><span>No Internet Trait Records Found!.</span></ng-template>
                          </accordion-group>

                          <accordion-group heading="CompanyNameTrait Information">
                            <div
                              *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.IdTrait[0].CompanyNameTrait!=null;else CompanyNameTrait_err">
                              <table class="table table-bordered">
                                <tbody>
                                  <tr>
                                    <th style='font-weight: 700;'>Business Name</th>
                                    <th style='font-weight: 700;'>Business Legal Name</th>
                                    <th style='font-weight: 700;'>Primary Indicator</th>
                                    <th style='font-weight: 700;'>Date Created</th>
                                    <th style='font-weight: 700;'>Reported Date</th>
                                  </tr>
                                  <tr
                                    *ngFor="let tr_cmp of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.IdTrait[0].CompanyNameTrait;let a=index">
                                    <td>{{tr_cmp.BusinessName}}</td>
                                    <td>{{tr_cmp.LegalBusinessName}}</td>
                                    <td>{{tr_cmp.TraitActivity.PrimaryIndicator}}</td>
                                    <td>{{tr_cmp.TraitActivity.DateCreated}}</td>
                                    <td>{{tr_cmp.TraitActivity.ReportedDate}}</td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                            <ng-template #CompanyNameTrait_err><span>No Company Name Trait Records Found!.</span>
                            </ng-template>



                          </accordion-group>
                        </accordion>
                      </div>
                      <ng-template #IdTrait_err><span>No IdTrait Records Found!.</span></ng-template>
                    </accordion-group>



                  </accordion>
                </div>
                <ng-template #report_arr>No Data Received</ng-template>
              </accordion-group>

              <accordion-group heading="Firmographics Trait Information">
                <div
                  *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.FirmographicsTrait!=null;else FirmographicsTrait_err">
                  <table class="table table-bordered">
                    <tbody>
                      <tr
                        *ngFor="let firmo_res of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.FirmographicsTrait[0].CurrentFirm)">
                        <th style='font-weight: 700;'>{{firmo_res}}</th>
                        <td *ngIf="firmo_res=='TraitActivity';else fir_err1">
                          <span>
                            {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.FirmographicsTrait[0].CurrentFirm[firmo_res]['PrimaryIndicator']}}
                          </span>
                        </td>
                        <ng-template #fir_err1>
                          <td
                            *ngIf="firmo_res!='TraitActivity' && isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.FirmographicsTrait[0].CurrentFirm[firmo_res]);else fir_err2">
                            {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.FirmographicsTrait[0].CurrentFirm[firmo_res].value}}
                          </td>
                        </ng-template>

                        <ng-template #fir_err2>
                          <td *ngIf="firmo_res!='TraitActivity'">
                            {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.FirmographicsTrait[0].CurrentFirm[firmo_res]}}
                          </td>
                        </ng-template>

                      </tr>
                      <tr>



                      </tr>
                    </tbody>
                  </table>
                </div>
                <ng-template #FirmographicsTrait_err> <span>No Firmographics Trait Records Found!.</span></ng-template>
              </accordion-group>


              <accordion-group heading="Principal Information">
                <div
                  *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.PrincipalTrait!=null;else PrincipalInfoSource_err">
                  <table class="table table-bordered">
                    <tbody>

                      <tr>
                        <th style='font-weight: 700;'>IsGuarantor</th>
                        <th style='font-weight: 700;'>AccountReference</th>
                        <th style='font-weight: 700;'>AccountReference Value</th>
                      </tr>
                      <tr
                        *ngFor="let s_prin of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.PrincipalTrait[0].PrincipalInfoSource">
                        <td>{{s_prin.IsGuarantor}}</td>
                        <td>{{s_prin.AccountReference.referenceType}}</td>
                        <td>{{s_prin.AccountReference.value}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <ng-template #PrincipalInfoSource_err><span>No Principal Information Records Found!.</span>
                </ng-template>
              </accordion-group>


              <accordion-group heading="TradeInfo Information">

                <div
                  *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.TradeInfo != null; else TradeInfo_err"
                >
                  <accordion class="p10">
                    <div
                      *ngFor="let trval of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.TradeInfo; let a_tr = index"
                    >
                      <accordion-group *ngIf="trval.CurrentTrade" heading="CurrentTrade Information">
                        <table class="table table-bordered">
                          <tbody>
                            <tr *ngFor="let trvalinfo of objectKeys(trval.CurrentTrade)">
                              <th class="font-weight7">{{trvalinfo}}</th>
                              <td *ngIf="isobject(trval.CurrentTrade[trvalinfo]);else else_trerr">
                                <span *ngIf="trvalinfo!='TraitActivity';else tr_else">
                                  {{trval.CurrentTrade[trvalinfo].value}}
                                </span>
                                <ng-template #tr_else>
                                  {{trval.CurrentTrade[trvalinfo].PrimaryIndicator}}
                                </ng-template>

                              </td>
                              <ng-template #else_trerr>
                                <td>{{trval.CurrentTrade[trvalinfo]}}</td>
                              </ng-template>
                            </tr>
                          </tbody>
                        </table>
                      </accordion-group>


                      <accordion-group *ngIf="trval.TradeHistory" heading="Trade History Information">
                        <table class="table table-bordered">
                          <tbody>
                            <tr *ngFor="let tradehis of objectKeys(trval.TradeHistory[a_tr])">
                              <th class="font-weight7">{{tradehis}}</th>
                              <td *ngIf="isobject(trval.TradeHistory[a_tr][tradehis]);else else_tradehiserr">

                                <span *ngIf="tradehis!='TraitActivity';else tr_else">
                                  {{trval.TradeHistory[a_tr][tradehis].value}}
                                </span>
                                <ng-template #tr_else>
                                  {{trval.TradeHistory[a_tr][tradehis].ReportedDate}}

                                </ng-template>

                              </td>
                              <ng-template #else_tradehiserr>
                                <td>{{trval.TradeHistory[a_tr][tradehis]}}</td>
                              </ng-template>
                            </tr>

                          </tbody>
                        </table>
                      </accordion-group>
                    </div>
                  </accordion>
                </div>
                <ng-template #TradeInfo_err> <span>No TradeInfo Records Found!.</span></ng-template>
              </accordion-group>

              <accordion-group heading="SOSTrait Information">
                <div
                  *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait!=null;else SOSTrait_err">

                  <accordion class="p10">
                    <div
                      *ngFor="let res_sos of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0])">
                      <accordion-group heading="{{res_sos}} Information">

                        <table class="table table-bordered" *ngIf='res_sos=="IdTrait"'>
                          <tbody>
                            <tr
                              *ngFor="let inqs of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0][res_sos].AddressTrait[0])">
                              <th style='font-weight: 700;'>{{inqs}}</th>

                              <td
                                *ngIf='isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0][res_sos].AddressTrait[0][inqs]);else else_sumval'>
                                <span *ngIf="inqs=='TraitActivity';else else_span">
                                  {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0][res_sos].AddressTrait[0][inqs].PrimaryIndicator}}
                                </span>
                                <ng-template #else_span>
                                  <span *ngIf='inqs=="AddressType"; else nestelse'>
                                    {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0][res_sos].AddressTrait[0][inqs]}}
                                  </span>
                                  <ng-template #nestelse>
                                    {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0][res_sos].AddressTrait[0][inqs].value}}
                                  </ng-template>

                                </ng-template>
                              </td>
                              <ng-template #else_sumval>
                                <td>
                                  {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0][res_sos].AddressTrait[0][inqs]}}
                                </td>
                              </ng-template>

                            </tr>
                          </tbody>
                        </table>

                        <table class="table table-bordered" *ngIf='res_sos=="IdTrait"'>
                          <tbody>
                            <tr
                              *ngFor="let companyval of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0]?.IdTrait?.CompanyNameTrait[0])">
                              <th style='font-weight: 700;'>{{companyval}}</th>
                              <td
                                *ngIf='isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0]?.IdTrait?.CompanyNameTrait[0][companyval]);else else_cmval'>

                                {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0]?.IdTrait?.CompanyNameTrait[0][companyval].PrimaryIndicator}}
                              </td>
                              <ng-template #else_cmval>

                                <td>
                                  {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0]?.IdTrait?.CompanyNameTrait[0][companyval]}}

                                </td>
                              </ng-template>



                            </tr>
                          </tbody>
                        </table>

                        <table class="table table-bordered" *ngIf='res_sos=="CurrentSOSDataTrait"'>
                          <tbody>
                            <tr
                              *ngFor="let sos of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0]?.CurrentSOSDataTrait)">
                              <th style='font-weight: 700;'>{{sos}}</th>
                              <td
                                *ngIf='isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0]?.CurrentSOSDataTrait[sos]);else else_cmval'>

                                <span
                                  *ngIf="sos=='TraitActivity';else soselse">{{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0]?.CurrentSOSDataTrait[sos].PrimaryIndicator}}</span>
                                <ng-template #soselse>
                                  {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0]?.CurrentSOSDataTrait[sos].value}}
                                </ng-template>
                              </td>
                              <ng-template #else_cmval>

                                <td>
                                  {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0]?.CurrentSOSDataTrait[sos]}}

                                </td>
                              </ng-template>



                            </tr>
                          </tbody>

                        </table>

                        <table class="table table-bordered" *ngIf='res_sos=="TraitActivity"'>
                          <tbody>
                            <tr
                              *ngFor="let sostr of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0]?.TraitActivity)">
                              <th style='font-weight: 700;'>{{sostr}}</th>
                              <td>
                                {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.SOSTrait[0]?.TraitActivity[sostr]}}
                            </tr>
                          </tbody>
                        </table>

                      </accordion-group>
                    </div>
                  </accordion>

                </div>
                <ng-template #SOSTrait_err> <span>No SOSTrait Records Found!.</span></ng-template>
              </accordion-group>


              <accordion-group heading="Site Information">
                <div
                  *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site!=null;else Site_err">
                  <accordion class="p10">
                    <accordion-group heading="IdTrait Information">
                      <div
                        *ngFor="let site_arr of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site;let s=index">
                        <accordion class="p10">
                          <div *ngFor="let sitearrval of objectKeys(site_arr.IdTrait)">
                            <accordion-group heading="{{sitearrval}} Information">
                              <table class="table table-bordered" *ngIf="sitearrval=='AddressTrait'">
                                <tbody>
                                  <tr
                                    *ngFor="let thloop of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0].IdTrait?.AddressTrait[0])">
                                    <th class="font-weight7">{{thloop}}</th>
                                    <td
                                      *ngIf="isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0].IdTrait?.AddressTrait[0][thloop]) && thloop!='AddressType';else addelse">
                                      <span *ngIf="thloop=='TraitActivity';else tracterr">
                                        {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0].IdTrait?.AddressTrait[0][thloop].PrimaryIndicator}}
                                      </span>
                                      <ng-template #tracterr>
                                        <span
                                          *ngIf="thloop!='TelephoneTrait';else teelse">{{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0].IdTrait?.AddressTrait[0][thloop].value}}
                                        </span>
                                        <ng-template #teelse>
                                          {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0].IdTrait?.AddressTrait[0][thloop][0].TelephoneNumber}}
                                        </ng-template>
                                      </ng-template>
                                    </td>
                                    <ng-template #addelse>
                                      <td>
                                        {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0].IdTrait?.AddressTrait[0][thloop]}}
                                      </td>
                                    </ng-template>
                                  </tr>
                                </tbody>
                              </table>

                              <table class="table table-bordered" *ngIf="sitearrval=='CompanyNameTrait'">
                                <tbody>
                                  <tr
                                    *ngFor="let thloops of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0].IdTrait?.CompanyNameTrait[0])">
                                    <th class="font-weight7">{{thloops}}</th>
                                    <td
                                      *ngIf="isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0].IdTrait?.CompanyNameTrait[0][thloops]);else addelses">
                                      {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0].IdTrait?.CompanyNameTrait[0][thloops].PrimaryIndicator}}
                                    </td>
                                    <ng-template #addelses>
                                      <td>
                                        {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0].IdTrait?.CompanyNameTrait[0][thloops]}}
                                      </td>
                                    </ng-template>

                                  </tr>
                                </tbody>
                              </table>

                              <table class="table table-bordered"
                                *ngIf="sitearrval=='IdNumberTrait' && equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[1].IdTrait?.IdNumberTrait!=null">
                                <tbody>
                                  <tr
                                    *ngFor="let idarr of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[1].IdTrait?.IdNumberTrait[0])">
                                    <th class="font-weight7">{{idarr}}</th>
                                    <td
                                      *ngIf="isobject(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[1].IdTrait?.IdNumberTrait[0][idarr]);else idelse">
                                      <span
                                        *ngIf="idarr=='TraitActivity';else trelse">{{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[1].IdTrait?.IdNumberTrait[0][idarr].PrimaryIndicator}}
                                      </span>
                                      <ng-template #trelse>
                                        {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[1].IdTrait?.IdNumberTrait[0][idarr][0].ReportedDate}}
                                      </ng-template>
                                    </td>
                                    <ng-template #idelse>
                                      <td>
                                        {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[1].IdTrait?.IdNumberTrait[0][idarr]}}
                                      </td>
                                    </ng-template>
                                  </tr>

                                </tbody>
                              </table>
                            </accordion-group>
                          </div>
                        </accordion>

                      </div>
                    </accordion-group>

                    <accordion-group heading="FirmographicsTrait Information">
                      <div
                        *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0].FirmographicsTrait!=null;else firmo_err">
                        <div
                          *ngFor="let firmarr of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0]?.FirmographicsTrait?.CurrentFirm)">
                          <table class="table table-bordered">
                            <tbody>
                              <tr
                                *ngFor='let f1arr of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0]?.FirmographicsTrait?.CurrentFirm[firmarr])'>
                                <th class='font-weight7'>{{f1arr}}</th>
                                <td>
                                  {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0]?.FirmographicsTrait?.CurrentFirm[firmarr][f1arr]}}
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                      <ng-template #firmo_err> <span>No FirmographicsTrait Records Found!.</span></ng-template>
                    </accordion-group>

                    <accordion-group heading="FolderActivity Information">
                      <div
                        *ngIf="equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0].FolderActivity!=null;else firmo_err">
                        <div>
                          <table class="table table-bordered">
                            <tbody>
                              <tr
                                *ngFor="let firmarr of objectKeys(equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0]?.FolderActivity)">
                                <th class='font-weight7'>{{firmarr}}</th>
                                <td>
                                  {{equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site[0]?.FolderActivity[firmarr]}}
                                </td>
                              </tr>
                            </tbody>
                            <br>
                            <tbody>
                              <tr>
                                <th class='font-weight7'>EfxId</th>
                              </tr>
                              <tr
                                *ngFor="let efx of equifaxCommercialReport.equaifax.EfxTransmit.CommercialCreditReport[0].Folder.Site">

                                <td>{{efx.EfxId}}</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                      <ng-template #firmo_err> <span>No FolderActivity Records Found!.</span></ng-template>
                    </accordion-group>
                  </accordion>
                </div>
                <ng-template #Site_err> <span>No Records Found!.</span></ng-template>
              </accordion-group>
            </accordion>
          </div>
          <ng-template #equifaxCommercialReport_err>
            No Equifax Commercial Report Received!<br><br>
          </ng-template>
        </tab>

        <tab heading="Payment Schedule" *ngIf="data.from_details.length > 0 && tabs['Payment Schedule']">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3>Loan Details</h3>
            </div>
            <div class="panel-body p0">
              <table class="table table-bordered">
                <tbody *ngIf="payment[0]!=null">
                  <tr style="width: 50%">
                    <th class="bold">Loan Start Date</th>
                    <td>{{ payment[0].createdAt }}</td>
                  </tr>
                  <tr>
                    <th class="bold">Loan Amount</th>
                    <td>{{ payment[0].loan_advance | currency }}</td>
                  </tr>
                  <tr>
                    <th class="bold">Payoff Amount</th>
                    <td>{{ payment[0].payOffAmount | currency }}</td>
                  </tr>
                  <tr>
                    <th class="bold">APR</th>
                    <td>{{ payment[0].apr }}%</td>
                  </tr>
                  <tr>
                    <th class="bold">Loan Term</th>
                    <td>{{ payment[0].loantermcount }} Months</td>
                  </tr>
                  <tr>
                    <th class="bold">Loan Status</th>
                    <td>Pending</td>
                  </tr>
                  <tr>
                    <th class="bold">Maturity Date</th>
                    <td>{{ payment[0].maturityDate }}</td>
                  </tr>
                  <tr>
                    <th class="bold">Next Payment</th>
                    <td>{{ payment[0].nextPaymentSchedule }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="p10px">
            <div class="displayFlex">
              <div class="frameshadow" style="width: 100%">
                <div class="mainTitle">Original Payment Schedule</div>

                <div>
                  <table class="table">
                    <thead>
                      <tr class="bold">
                        <th style="width: 10px">#</th>
                        <th>Date</th>
                        <th>Start Balance</th>
                        <th>Payment</th>
                        <th>Principal</th>
                        <th>Interest</th>
                      </tr>
                    </thead>
                    <tbody *ngIf="data.paymentScheduleDetails.length > 1">
                      <tr *ngFor="
                          let d of data.paymentScheduleDetails;
                          let i = index
                        ">
                        <td>{{ i + 1 }}</td>
                        <td>
                          {{ datePipe.transform(d.scheduleDate, "yyyy/MM/dd") }}
                        </td>
                        <td>
                          {{ d.unpaidPrincipal | currency }}
                        </td>
                        <td>{{ d.amount | currency }}</td>
                        <td>
                          {{ d.principal | currency }}
                        </td>
                        <td>{{ d.interest | currency }}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </tab>

        <tab heading="Bank Accounts" *ngIf="data.from_details.length > 0 && tabs['Bank Accounts']">
          <div id="userbankinfo" class="bankaccountDetails">
            <div class="bankaccount-btns-wrapper displayFlex flexEnd" style="margin: 10px">
              <button type="button" class="btn greenBorder bgtrans" id="sendaddbankinvitation" data-toggle="modal"
                data-target="#sendaddbankinvitationModal" (click)="sendbanklogin()">
                <div class="displayFlex">
                  <div class="sendBank"></div>
                  <div class="colblack">Send Bank Login</div>
                </div>
              </button>
              &nbsp;
              <button type="button" class="btn greenBorder bgtrans" (click)="manualBankAddModel(manualBankAddTemp)">
                <div class="displayFlex">
                  <div class="addBank"></div>
                  <div class="colblack">Add Bank Manually</div>
                </div>
              </button>
            </div>
            <!--  -->
            <accordion class="p10 cardSection" *ngIf="bankaccounts.length > 0">
              <accordion-group heading="Bank Statement">
                <h4>User Information</h4>
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <th style="width: 50%">Name</th>
                      <td>
                        {{ data.from_details[0].legalName }}
                      </td>
                    </tr>
                    <tr>
                      <th>Email</th>
                      <td>
                        {{ data.from_details[0]["email"] }}
                      </td>
                    </tr>
                    <tr>
                      <th>Phone</th>
                      <td>
                        {{ data.from_details[0]["phone"] }}
                      </td>
                    </tr>
                    <tr>
                      <th>Address</th>
                      <td>
                        {{ data.from_details[0]["unit"] }},
                        {{ data.from_details[0]["businessAddress"] }},
                        {{ data.from_details[0]["city"] }},
                        {{ data.from_details[0]["state"] }},
                        {{ data.from_details[0]["zipCode"] }}
                      </td>
                    </tr>
                    <tr>
                      <th>Average Monthly Bank Balance</th>
                      <td *ngIf="minbalance!=null;else err_minbal">{{minbalance}}</td>
                      <ng-template>
                        <td>------</td>
                      </ng-template>
                    </tr>
                  </tbody>
                </table>

                <div *ngIf="bankaccounts.length > 0">

                  <div *ngFor="let bank of bankaccounts; let i = index">

                    <span class=" ">
                      <button type="button" class="btn btn-primary" id="repullplaid" (click)="rePullBankAccounts()">
                        Update Bank Data
                      </button>
                      &nbsp;&nbsp;&nbsp;
                    </span>
                    <accordion class="p10 cardSection" *ngIf="bank.bankAccounts.length > 0">
                      <accordion-group *ngIf="bank.bankAccounts.length > 0" heading="{{ bank.bankName }}-({{
                            bank.bankAccounts[i]?.createdAt | date:'MM-dd-yyyy'
                        }})">
                        <accordion class="p10 cardSection">
                          <accordion-group *ngFor="let ac of bank.bankAccounts" heading="{{ ac.headername }}">
                            <table class="table table-bordered">
                              <tbody>
                                <tr>
                                  <th style="width: 50%">Account Name</th>
                                  <td>
                                    {{ ac.name }}
                                  </td>
                                </tr>
                                <tr>
                                  <th>Account Type</th>
                                  <td>{{ ac.type }}</td>
                                </tr>
                                <tr>
                                  <th>Account Subtype</th>
                                  <td>{{ ac.subtype }}</td>
                                </tr>

                                <tr>
                                  <th>Account Number</th>
                                  <td>{{ ac.acno }}</td>
                                </tr>

                                <tr>
                                  <th>Account Routing Number</th>
                                  <td>{{ ac.routing }}</td>
                                </tr>
                                <tr>
                                  <th>Account Wire Routing Number</th>
                                  <td>{{ ac.wire_routing }}</td>
                                </tr>
                                <tr>
                                  <th>Account Institution Type</th>
                                  <td>{{ ac.institution_id }}</td>
                                </tr>
                                <tr>
                                  <th>Account Current Balance</th>
                                  <td>${{ ac.current }}</td>
                                </tr>
                                <tr>
                                  <th>Account Available Balance</th>
                                  <td>${{ ac.available }}</td>
                                </tr>
                              </tbody>
                            </table>
                            <hr />
                            <h2>Transaction Details - last 365 days</h2>
                            <hr />
                            <table *ngIf="ac.transactions!=null && ac.transactions.length > 0" datatable class="table">
                              <thead class="thead-dark">
                                <tr>
                                  <th scope="col">#</th>
                                  <th scope="col">TransactionName</th>
                                  <th scope="col">Category ID</th>
                                  <th scope="col">Category</th>
                                  <th scope="col">Amount</th>
                                  <th scope="col">Date</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr *ngFor="
                                    let d of ac.transactions;
                                    let i = index
                                  ">
                                  <th scope="row">{{ i + 1 }}</th>
                                  <td>
                                    {{ d.name }}
                                  </td>
                                  <td>
                                    {{ d.category_id }}
                                  </td>
                                  <td>{{ d.category }}</td>
                                  <td>{{ d.amount }}</td>
                                  <td>{{ d.date }}</td>
                                </tr>
                              </tbody>
                            </table>
                          </accordion-group>
                        </accordion>
                      </accordion-group>
                    </accordion>
                  </div>
                </div>
              </accordion-group>
            </accordion>

            <accordion class="p10 cardSection" *ngIf="bankhistoricalbalance!=null && bankhistoricalbalance.length > 0">
              <accordion-group heading="Bank Historical Balance">
                <h4>User Information</h4>
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <th style="width: 50%">Name</th>
                      <td>
                        {{ data.from_details[0].legalName }}

                      </td>
                    </tr>
                    <tr>
                      <th>Email</th>
                      <td>
                        {{ data.from_details[0]["email"] }}
                      </td>
                    </tr>
                    <tr>
                      <th>Phone</th>
                      <td>
                        {{ data.from_details[0]["phone"] }}
                      </td>
                    </tr>
                    <tr>
                      <th>Address</th>
                      <td>
                        {{ data.from_details[0]["unit"] }},
                        {{ data.from_details[0]["businessAddress"] }},
                        {{ data.from_details[0]["city"] }},
                        {{ data.from_details[0]["state"] }},
                        {{ data.from_details[0]["zipCode"] }}
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div *ngIf="bankhistoricalbalance.length>0">
                  <div *ngFor="let bank of bankhistoricalbalance;let i = index;">
                    <span class="pull-right">
                      <button type="button" class="btn btn-primary" id="repullplaid"
                        (click)="rePullBankAccounts()">Update
                        Bank Data</button> &nbsp;&nbsp;&nbsp;
                    </span>
                    <accordion class="p10 cardSection" *ngIf="bankaccounts.length>0">
                      <accordion-group
                        heading="{{bank.bankName}}-({{ datePipe.transform(bank.bankAccounts[i]?.createdAt, 'MMM dd, yyyy') }})">
                        <accordion class="p10 cardSection">
                          <accordion-group *ngFor="let ac of bank.bankAccounts" heading="{{ac.headername}}">
                            <table class="table table-bordered">
                              <tbody>
                                <tr>
                                  <th>Account Name</th>
                                  <td>
                                    {{ac.name}}
                                  </td>
                                </tr>
                                <tr>
                                  <th>Account Type</th>
                                  <td>{{ac.type}}</td>
                                </tr>
                                <tr>
                                  <th>Account Subtype</th>
                                  <td>{{ac.subtype}}</td>
                                </tr>

                                <tr>
                                  <th>Account Number</th>
                                  <td>{{ac.acno}}</td>
                                </tr>

                                <tr>
                                  <th>Account Routing Number</th>
                                  <td>{{ac.routing}}</td>
                                </tr>
                                <tr>
                                  <th>Account Wire Routing Number</th>
                                  <td>{{ac.wire_routing}}</td>
                                </tr>
                                <tr>
                                  <th>Account Institution Type</th>
                                  <td>{{ac.institution_id}}</td>
                                </tr>
                                <tr>
                                  <th>Account Current Balance</th>
                                  <td>
                                    ${{ac.current}}
                                  </td>
                                </tr>
                                <tr>
                                  <th>Account Available Balance</th>
                                  <td>
                                    ${{ac.available}}
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                            <hr>
                            <h2>Average Balance</h2>
                            <hr>
                            <table *ngIf="ac.average_balance!=null && ac.average_balance.length > 0" datatable
                              class="table">
                              <thead class="thead-dark">
                                <tr>
                                  <th scope="col">#</th>
                                  <th scope="col">Month</th>
                                  <th scope="col">Average</th>
                                </tr>
                              </thead>
                              <tbody>

                                <tr *ngFor="let d of ac.average_balance; let c = index;">
                                  <th scope="row">{{ c + 1 }}</th>
                                  <td> {{d.month}}</td>
                                  <td> {{d.value}}</td>
                                </tr>
                              </tbody>
                            </table>
                          </accordion-group>
                        </accordion>
                      </accordion-group>
                    </accordion>
                  </div>
                </div>
              </accordion-group>
            </accordion>
          </div>
        </tab>

        <tab heading="Document Center" *ngIf="
          (data.userConsentDoc.length > 0 || data.files.length > 0) &&
          tabs['Document Center']
        ">
          <div class="p10px">
            <div class="frameshadow mb20px">
              <div>
                <div class="mainTitle">Financing Agreement Documents</div>
              </div>
              <div class="p10px">
                <table class="table table-bordered">
                  <tr>
                    <th style="width: 50px">#</th>
                    <th>Documents</th>
                    <!-- <th>Document Type</th> -->
                    <th>PDF</th>
                  </tr>
                  <tbody>
                    <tr *ngFor="let d of data.userConsentDoc; let i = index">
                      <td>{{ i + 1 }}</td>
                      <td>{{ d.name }}</td>
                      <!-- <td>{{ d.documentType }}</td> -->
                      <!-- <td (click)="view(d.filePath)" class="cursorpointer">
                        <a>View Document</a>
                      </td> -->
                      <td (click)="view(showFile,d.filename)" class="cursorpointer">
                        <a>View Document</a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="mb20px">
              <div class="frameshadow">
                <div>
                  <div class="mainTitle">Upload Documents</div>
                </div>

                <div class="displayFlex AlignItemCenter spaceBetween mb50px">
                  <div class="grayButton displayFlex AlignItemCenter justifycontencenter">
                    <div class="folders"></div>
                    <div>
                      <ngx-file-drop dropZoneLabel="Drop files here" (onFileDrop)="dropped($event)"
                        (onFileOver)="fileOver($event)" (onFileLeave)="fileLeave($event)">
                        <ng-template ngx-file-drop-content-tmp let-openFileSelector="openFileSelector">
                          <span (click)="openFileSelector()">Upload new files</span>
                        </ng-template>
                      </ngx-file-drop>
                    </div>
                  </div>
                </div>
                <div class="container1 mt-5" *ngIf="listfiles.length > 0">
                  <div class="part2 p-3 mt-3" *ngFor="let file of fileitems; let i = index">
                    <div class="row align-items-center">
                      <div class="col-1">
                        <div class="greenfolder"></div>
                      </div>
                      <div class="col-3">
                        {{ file.name.split(".")[0] }}
                      </div>
                      <div class="col-1">
                        <span class="bg-white p-1 rounded text-sales">{{
                          file.name.split(".")[1] | uppercase
                          }}</span>
                      </div>
                      <div class="col-1">
                        {{ (file.size / 1024).toFixed(2) }} KB
                      </div>
                      <div class="col-1">
                        {{ today }}
                      </div>
                      <div class="col-2">
                        <select (change)="selectDocType(i, $event)">
                          <option value="">Select Document Type</option>
                          <option value="Government Issued ID">
                            Government Issued ID
                          </option>
                          <option value="Paystub">Paystub</option>
                          <option value="Income Document">
                            Income Document
                          </option>
                          <option value="Driver License">Driver License</option>
                          <option value="Bank Statement">Bank Statement</option>
                          <option value="Other">Other</option>
                        </select>
                        <input hidden (keyup)="docTypeComment(i, $event.target.value)" />
                      </div>
                      <div class="col-2 text-right">
                        <div class="delete_icon cursorpointer" (click)="deleteFileSelected(file)"></div>
                      </div>
                    </div>
                  </div>
                  <div class="p-3 mt-3 text-center">
                    <button type="button" class="btn btn-sales" (click)="upoadDocuments()">
                      Upload
                    </button>
                  </div>
                </div>

                <div class="p10px">
                  <table class="table table-bordered">
                    <tr>
                      <th style="width: 50px">#</th>
                      <th>Documents</th>
                      <th>Document Type</th>
                      <th>PDF,JPG,JPEG,PNG</th>
                    </tr>
                    <tbody>
                      <tr *ngFor="let d of data.files; let i = index">
                        <td>{{ i + 1 }}</td>
                        <td>{{ d.originalname }}</td>
                        <td>{{ d.documentType }}</td>
                        <!-- <td (click)="view(d.filename)"><a>View Document</a></td> -->
                        <td (click)="view(showFile,d.filename)" class="cursorpointer">
                          <a>View Document</a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </tab>

        <tab heading="Comments" *ngIf="data.from_details.length > 0 && tabs['Comments']">
          <div class="p10px">
            <div class="mb20px">
              <div class="frameshadow">
                <div>
                  <div class="mainTitle">Comments Section</div>
                </div>
                <form name="form" (ngSubmit)="f.form.valid && addcomments(messagebox)" #f="ngForm" novalidate>
                  <div class=" ">
                    <div class="displayFlex listdetails AlignItemCenter flexStart">
                      <div class="fontWeight w200px">Subject</div>
                      <div class="w100per">
                        <input type="text" name="subject" [(ngModel)]="cm.subject" #subject="ngModel" required
                          class="form-control" [ngClass]="{
                            'is-invalid': f.submitted && subject.invalid
                          }" />
                      </div>
                    </div>
                    <div class="displayFlex listdetails AlignItemCenter flexStart">
                      <div class="fontWeight w200px">Comments</div>
                      <div class="w100per">
                        <textarea class="form-control" name="comments" [(ngModel)]="cm.comments" #comments="ngModel"
                          required [ngClass]="{
                            'is-invalid': f.submitted && subject.invalid
                          }"></textarea>
                      </div>
                    </div>
                    <div class="p10px">
                      <button type="submit" class="btn-primary buttonSize" id="updocs" value="Validate">
                        Submit
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </div>

            <div class="frameshadow">
              <div>
                <div class="mainTitle">Comments Details</div>
              </div>
              <div class="p10px">
                <table class="table table-bordered">
                  <thead>
                    <tr class="bold">
                      <th style="width: 10px">#</th>
                      <th>Subject</th>
                      <th>Comments</th>
                      <th>Created By</th>
                      <th>Created Date</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let c of res_comments; let i = index">
                      <td>{{ i + 1 }}</td>
                      <td>{{ c.subject }}</td>
                      <td>{{ c.comments }}</td>
                      <td>{{ c.role }}:{{ c.firstName }} {{ c.lastName }}</td>
                      <td>{{ c.createdAt }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </tab>

        <tab heading="Log" *ngIf="data.from_details.length > 0 && tabs['Log']">
          <div class="p10px">
            <div class="mb20px">
              <div class="frameshadow">
                <div>
                  <div class="mainTitle">Log Activity Details</div>
                </div>

                <div class="p10px">
                  <table id="achlogactivity_table" class="table dataTable">
                    <thead>
                      <tr class="bold">
                        <th style="width: 10px">#</th>
                        <th style="white-space: nowrap">Log Reference</th>
                        <th>Module Name</th>
                        <th>User</th>
                        <th>Created Date</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let d of screenlogs; let i = index">
                        <td class="bold">{{ i + 1 }}</td>
                        <td>{{ d.id }}</td>
                        <td>{{ d.module }}</td>
                        <td>
                          {{ d.user }}
                        </td>
                        <td>{{ d.createdat }}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </tab>

        <tab *ngIf="complyAdvantageReport?.Rules" heading="Comply Advantage">
          <div class="p10px" id="complyAdvantageTab">
            <table class="table table-bordered">
              <tr class="bold">
                <th>Data Point</th>
                <th>Response</th>
              </tr>
              <tbody>
                <tr *ngFor="let rule of complyAdvantageReport.Rules">
                  <td>{{ rule.Rule }}</td>
                  <td>{{ rule.RuleStatus === 'PASS' ? 'No' : 'Yes' }}</td>
                  <td [ngStyle]="{ color: rule.RuleStatus === 'PASS' ? 'green' : 'red' }">
                    {{ rule.RuleStatus }}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="p10px">
            <iframe style="margin-top: 10px;height:500px;" id="docusign" [src]="urlSafeComplyAdvantage" frameBorder="0"
              scrolling="auto" width="100%"></iframe>
          </div>
        </tab>
      </tabset>
    </div>
  </div>
</div>

<ng-template #messagebox>
  <div class="modal-body text-center">
    <button type="button" class="close pull-right" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
    <p class="headtext">Message</p>
    <p *ngFor="let m of message">{{ m }}</p>
  </div>
</ng-template>

<!-- Manual Bank Account Modal -->
<ng-template #manualBankAddTemp>
  <div class="modal-body">
    <button type="button" class="close pull-right" aria-label="Close" (click)="bankAddFormClose()">
      <span aria-hidden="true">&times;</span>
    </button>
    <h5>Bank Account Information For Auto-Pay</h5>

    <form [formGroup]="bankAddForm" (ngSubmit)="manualBankAdd()">
      <label for="bankName">Bank Name</label><br />
      <input type="text" id="bankName" formControlName="bankName" class="form-control" [class.is-invalid]="
          f.bankName.invalid && (f.bankName.touched || fSubmitted)
        " />
      <small *ngIf="f.bankName.invalid && (f.bankName.touched || fSubmitted)" class="text-danger">Bank name is
        required</small>
      <br />
      <label for="holderName">Primary Account Holder</label><br />
      <input type="text" id="holderName" formControlName="holderName" class="form-control" [class.is-invalid]="
          f.holderName.invalid && (f.holderName.touched || fSubmitted)
        " />
      <small *ngIf="f.holderName.invalid && (f.holderName.touched || fSubmitted)" class="text-danger">Account holder
        name is required</small>
      <br />
      <label for="holderName">Routing Number</label><br />
      <input type="number" id="routingNumber" formControlName="routingNumber" class="form-control" [class.is-invalid]="
          f.routingNumber.invalid && (f.routingNumber.touched || fSubmitted)
        " />
      <div *ngIf="
          f.routingNumber.invalid && (f.routingNumber.touched || fSubmitted)
        ">
        <small *ngIf="f.routingNumber.errors?.required" class="text-danger">Routing number is required</small>
        <small *ngIf="f.routingNumber.errors?.min" class="text-danger">Enter min. of 5 numbers</small>
      </div>
      <br />
      <label for="holderName">Account Number</label><br />
      <input type="number" id="accountNumber" formControlName="accountNumber" class="form-control" [class.is-invalid]="
          f.accountNumber.invalid && (f.accountNumber.touched || fSubmitted)
        " />
      <div *ngIf="
          f.accountNumber.invalid && (f.accountNumber.touched || fSubmitted)
        ">
        <small *ngIf="f.accountNumber.errors?.required" class="text-danger">Account number is required</small>
        <small *ngIf="f.accountNumber.errors?.min" class="text-danger">Enter min. of 10 numbers</small>
      </div>
      <br />
      <label for="holderName">Confirm Account Number</label><br />
      <input type="number" id="confmAccountNumber" formControlName="confmAccountNumber" class="form-control"
        [class.is-invalid]="
          f.confmAccountNumber.invalid &&
          (f.confmAccountNumber.touched || fSubmitted)
        " />
      <div *ngIf="f.confmAccountNumber.touched || fSubmitted">
        <small *ngIf="f.confmAccountNumber.errors?.required" class="text-danger">Confirm account number is
          required</small>
        <small *ngIf="bankAddForm.errors?.misMatch" class="text-danger">Account number not matched</small>
      </div>
      <br />
      <button type="button" class="brw-btn closebutton mr30px w200px" (click)="bankAddFormClose()">
        CANCEL
      </button>
      <button type="submit" class="greenbutton upperCase w200px">Save</button>
    </form>
  </div>
</ng-template>

<!-- User name edit Modal -->
<ng-template #userNameEditTemp>
  <div class="modal-body">
    <button type="button" class="close pull-right" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
    <form (ngSubmit)="f.form.valid && editUserName(firstName.value, lastName.value)" #f="ngForm" novalidate>
      <label for="bankName">First Name</label><br />
      <input type="text" name="firstName" [ngModel]="editNameFields.firstName" class="form-control"
        placeholder="first name" required #firstName="ngModel" [class.is-invalid]="f.submitted && firstName.invalid" />
      <br />

      <label for="bankName">Last Name</label><br />
      <input type="text" name="lastName" [ngModel]="editNameFields.lastName" class="form-control"
        placeholder="last name" required #lastName="ngModel" [class.is-invalid]="f.submitted && lastName.invalid" />
      <br />

      <button type="button" class="brw-btn closebutton mr30px w200px" (click)="close()">
        CANCEL
      </button>
      <button type="submit" class="greenbutton upperCase w200px">Save</button>
    </form>
  </div>
</ng-template>

<!-- Street address edit Modal -->
<ng-template #streetAddressEditTemp>
  <div class="modal-body">
    <button type="button" class="close pull-right" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
    <form (ngSubmit)="f.form.valid && editUserStreetAddress(streetAddress.value)" #f="ngForm" novalidate>
      <label for="bankName">Street Address</label><br />
      <input type="text" name="streetAddress" [ngModel]="editStreetFields.streetAddress" class="form-control"
        placeholder="Street Address" required #streetAddress="ngModel"
        [class.is-invalid]="f.submitted && streetAddress.invalid" /><br />
      <button type="button" class="brw-btn closebutton mr30px w200px" (click)="close()">
        CANCEL
      </button>
      <button type="submit" class="greenbutton upperCase w200px">Save</button>
    </form>
  </div>
</ng-template>

<!-- City edit Modal -->
<ng-template #cityEditTemp>
  <div class="modal-body">
    <button type="button" class="close pull-right" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
    <form (ngSubmit)="f.form.valid && editUserCity(city.value)" #f="ngForm" novalidate>
      <label for="bankName">City</label><br />
      <input type="text" name="city" [ngModel]="editCityFields.city" class="form-control" placeholder="City" required
        #city="ngModel" [class.is-invalid]="f.submitted && city.invalid" /><br />
      <button type="button" class="brw-btn closebutton mr30px w200px" (click)="close()">
        CANCEL
      </button>
      <button type="submit" class="greenbutton upperCase w200px">Save</button>
    </form>
  </div>
</ng-template>

<!-- zipcode edit Modal -->
<ng-template #zipCodeEditTemp>
  <div class="modal-body">
    <button type="button" class="close pull-right" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
    <form (ngSubmit)="f.form.valid && editUserZipCode(zipCode.value)" #f="ngForm" novalidate>
      <label for="bankName">ZipCode</label><br />
      <input type="text" name="zipCode" [ngModel]="editZipCodeFields.zipCode" class="form-control" placeholder="ZipCode"
        required #zipCode="ngModel" [class.is-invalid]="f.submitted && zipCode.invalid" /><br />
      <button type="button" class="brw-btn closebutton mr30px w200px" (click)="close()">
        CANCEL
      </button>
      <button type="submit" class="greenbutton upperCase w200px">Save</button>
    </form>
  </div>
</ng-template>

<ng-template #showFile>
  <div class="modal-body">
    <button type="button" class="close pull-right" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
    <!-- {{checkType}} -->
    <div *ngIf="checkType!='pdf'">

      <img [src]="showFiles" width="800px" height="450px" />
    </div>

    <div *ngIf="checkType=='pdf'">

      <iframe [src]="urlSafe" frameBorder="0" scrolling="auto" height="450px" width="800px"></iframe>
    </div>
  </div>

</ng-template>
